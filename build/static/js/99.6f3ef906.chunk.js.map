{"version":3,"file":"static/js/99.6f3ef906.chunk.js","mappings":"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","sources":["admin/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\n  const API_URL = 'https://electro-1-vjdu.onrender.com/api/admin/products'; // Используем админский endpoint для получения всех товаров\n  const PRODUCTS_API_URL = 'https://electro-1-vjdu.onrender.com/api/products'; // Для создания/обновления/удаления товаров\n\nfunction ProductForm({ onClose, onSuccess, initialData }) {\n  const [name, setName] = useState(initialData?.name || '');\n  const [priceUSD, setPriceUSD] = useState(initialData?.priceUSD !== undefined ? String(initialData.priceUSD) : '');\n  const [category, setCategory] = useState(initialData?.category || '');\n  const [article, setArticle] = useState(initialData?.article || '');\n  const [image, setImage] = useState(initialData?.image || '');\n  const [coverPhoto, setCoverPhoto] = useState(initialData?.coverPhoto || '');\n  \n  // Динамические поля для фото\n  const [additionalPhotos, setAdditionalPhotos] = useState(() => {\n    if (initialData?.images && Array.isArray(initialData.images)) {\n      return initialData.images.map((photo, index) => ({\n        id: index,\n        url: photo || ''\n      }));\n    }\n    // Начальные поля\n    return [\n      { id: 0, url: '' },\n      { id: 1, url: '' },\n      { id: 2, url: '' }\n    ];\n  });\n  const [description, setDescription] = useState(initialData?.description || '');\n  const [shortDescription, setShortDescription] = useState(initialData?.['Short description'] || '');\n  const [characteristics, setCharacteristics] = useState(initialData?.characteristics || '');\n  const [equipment, setEquipment] = useState(initialData?.equipment || '');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  \n  // Подсказка для итоговой цены в тенге для админа\n  const AdminPriceHint = ({ usd }) => {\n    const [rate, setRate] = useState(null);\n    const [markupPercentage, setMarkupPercentage] = useState(20);\n    \n    useEffect(() => {\n      let mounted = true;\n      (async () => {\n        try {\n          // Получаем курс валют\n          const r = await fetch('https://electro-1-vjdu.onrender.com/api/rate/usd-kzt');\n          const j = await r.json();\n          if (mounted && j && j.rate) setRate(j.rate);\n          \n          // Получаем процент наценки\n          const infoResponse = await fetch('https://electro-1-vjdu.onrender.com/api/information');\n          const infoData = await infoResponse.json();\n          if (mounted && infoData.information && infoData.information.markupPercentage !== undefined) {\n            setMarkupPercentage(infoData.information.markupPercentage);\n          }\n        } catch (_) {\n          const fallback = parseFloat(process.env.REACT_APP_USD_KZT_RATE || '480');\n          if (mounted) setRate(fallback);\n        }\n      })();\n      return () => { mounted = false; };\n    }, []);\n    \n    const val = parseFloat(String(usd || '').replace(',', '.'));\n    if (isNaN(val) || !rate) return null;\n    const markupMultiplier = 1 + (markupPercentage / 100);\n    const kzt = Math.round(val * rate * markupMultiplier);\n    return (\n      <div style={{marginTop:6,fontSize:13,color:'#666'}}>\n        Итог для пользователя: ≈ {kzt.toLocaleString('ru-RU')} ₸ (курс {rate}, +{markupPercentage}%)\n      </div>\n    );\n  };\n  \n  // Функции для управления дополнительными фото\n  const addPhotoField = () => {\n    const newId = Math.max(...additionalPhotos.map(p => p.id), -1) + 1;\n    setAdditionalPhotos([...additionalPhotos, { id: newId, url: '' }]);\n  };\n\n  const removePhotoField = (id) => {\n    setAdditionalPhotos(additionalPhotos.filter(photo => photo.id !== id));\n  };\n\n  const updatePhotoField = (id, url) => {\n    setAdditionalPhotos(additionalPhotos.map(photo => \n      photo.id === id ? { ...photo, url } : photo\n    ));\n  };\n  \n  // Состояние для динамических характеристик\n  const [characteristicFields, setCharacteristicFields] = useState(() => {\n    if (initialData?.characteristics) {\n      try {\n        // Пытаемся распарсить существующие характеристики\n        const parsed = JSON.parse(initialData.characteristics);\n        if (Array.isArray(parsed)) {\n          return parsed;\n        }\n      } catch {\n        // Если не JSON, разбиваем по строкам\n        const lines = initialData.characteristics.split('\\n').filter(line => line.trim());\n        return lines.map(line => {\n          const parts = line.split(':');\n          if (parts.length >= 2) {\n            return {\n              parameter: parts[0].trim(),\n              value: parts.slice(1).join(':').trim()\n            };\n          }\n          return { parameter: line.trim(), value: '' };\n        });\n      }\n    }\n    // Начальные поля\n    return [\n      { parameter: 'Код товара', value: '' },\n      { parameter: 'Тип патрона', value: '' },\n      { parameter: 'Тип инструмента', value: '' },\n      { parameter: 'Количество скоростей работы', value: '' },\n      { parameter: 'Диаметр патрона', value: '' },\n      { parameter: 'Максимальное число оборотов холостого хода', value: '' },\n      { parameter: 'Максимальный крутящий момент', value: '' },\n      { parameter: 'Потребляемая мощность', value: '' },\n      { parameter: 'Максимальный диаметр сверления дерева', value: '' },\n      { parameter: 'Максимальный диаметр сверления металла', value: '' }\n    ];\n  });\n  \n  // Функция для загрузки одного файла с WebP конвертацией\n  const handleFileUpload = async (event, setField) => {\n    const files = Array.from(event.target.files);\n    if (files.length === 0) return;\n    \n    setLoading(true);\n    setError('');\n    \n    try {\n      const formData = new FormData();\n      formData.append('image', files[0]); // Изменили 'file' на 'image'\n      \n      const response = await fetch('https://electro-1-vjdu.onrender.com/api/upload', {\n        method: 'POST',\n        body: formData\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Ошибка загрузки файла');\n      }\n      \n      const result = await response.json();\n      \n      if (result.webp) {\n        // Используем WebP версию для лучшей производительности\n        setField(result.webp.path);\n        \n        // Сохраняем варианты изображений для оптимизации\n        const imageVariants = {\n          original: result.original.path,\n          webp: result.webp.path,\n          thumb: result.variants?.thumb?.url || result.webp.path,\n          medium: result.variants?.medium?.url || result.webp.path,\n          large: result.variants?.large?.url || result.webp.path\n        };\n        \n        // Сохраняем варианты в localStorage для использования при сохранении продукта\n        localStorage.setItem('lastUploadedImageVariants', JSON.stringify(imageVariants));\n        \n        setTimeout(() => {\n          alert(`✅ Изображение успешно загружено и оптимизировано!\\n\\n` +\n                `📁 Оригинал: ${result.original.filename}\\n` +\n                `🎨 WebP: ${result.webp.filename}\\n` +\n                `📏 Размер: ${Math.round(result.original.size / 1024)} KB\\n` +\n                `🚀 Экономия: ~60-70% размера\\n` +\n                `📱 Варианты: thumb, medium, large\\n\\n` +\n                `WebP URL автоматически добавлен в поле.`);\n        }, 100);\n      } else {\n        // Fallback на оригинальный файл\n        setField(result.original.path);\n        setTimeout(() => {\n          alert(`✅ Файл успешно загружен!\\n\\nURL: ${result.original.path}`);\n        }, 100);\n      }\n    } catch (err) {\n      setError('Ошибка загрузки файла: ' + err.message);\n    } finally {\n      setLoading(false);\n      event.target.value = '';\n    }\n  };\n\n  // Функции для работы с характеристиками\n  const addCharacteristic = () => {\n    setCharacteristicFields([...characteristicFields, { parameter: '', value: '' }]);\n  };\n\n  const removeCharacteristic = (index) => {\n    setCharacteristicFields(characteristicFields.filter((_, i) => i !== index));\n  };\n\n  const updateCharacteristic = (index, field, value) => {\n    const newFields = [...characteristicFields];\n    newFields[index][field] = value;\n    setCharacteristicFields(newFields);\n  };\n\n  // Преобразование характеристик в строку для сохранения\n  const formatCharacteristics = () => {\n    return characteristicFields\n      .filter(field => field.parameter.trim() && field.value.trim())\n      .map(field => `${field.parameter}: ${field.value}`)\n      .join('\\n');\n  };\n\n  const isEdit = Boolean(initialData && initialData._id);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    \n    // Проверяем корректность цены, но сохраняем как строку\n    let parsedUSD = String(priceUSD).replace(',', '.');\n    if (parsedUSD === '' || isNaN(Number(parsedUSD))) {\n      setError('Введите цену в USD (например: 199.99 или 199,99)');\n      setLoading(false);\n      return;\n    }\n    parsedUSD = String(parsedUSD);\n    \n    // Собираем все фото в массив\n    const allPhotos = additionalPhotos.map(photo => photo.url).filter(url => url.trim() !== '');\n    \n    // Получаем варианты изображений из localStorage\n    const imageVariants = localStorage.getItem('lastUploadedImageVariants');\n    const parsedVariants = imageVariants ? JSON.parse(imageVariants) : null;\n    \n    try {\n      let payload = { \n        name, \n        priceUSD: parsedUSD, \n        category, \n        image, \n        images: allPhotos,\n        images2: [],\n        images3: [],\n        coverPhoto,\n        description, \n        'Short description': shortDescription, \n        characteristics: formatCharacteristics(), \n        equipment, \n        article \n      };\n      \n      // Добавляем варианты изображений, если они есть\n      if (parsedVariants) {\n        payload.imageVariants = parsedVariants;\n        // Очищаем localStorage после использования\n        localStorage.removeItem('lastUploadedImageVariants');\n      }\n      \n      const res = await fetch(isEdit ? `${PRODUCTS_API_URL}/${initialData._id}` : PRODUCTS_API_URL, {\n        method: isEdit ? 'PUT' : 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      });\n      \n      if (!res.ok) throw new Error(isEdit ? 'Ошибка при обновлении товара' : 'Ошибка при добавлении товара');\n      \n      setLoading(false);\n      onSuccess();\n      onClose();\n    } catch (err) {\n      setError(err.message || 'Ошибка');\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.18)',zIndex:1000,display:'flex',alignItems:'center',justifyContent:'center'}}>\n      <form onSubmit={handleSubmit} style={{background:'#fff',borderRadius:10,padding:28,minWidth:700,maxWidth:1000,boxShadow:'0 2px 16px rgba(30,40,90,0.10)',maxHeight:'90vh',overflowY:'auto',position:'relative'}}>\n        <button \n          type=\"button\" \n          onClick={onClose}\n          style={{\n            position: 'absolute',\n            top: 15,\n            right: 15,\n            background: 'none',\n            border: 'none',\n            fontSize: 24,\n            color: '#666',\n            cursor: 'pointer',\n            width: 30,\n            height: 30,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            borderRadius: '50%',\n            transition: 'all 0.2s'\n          }}\n          onMouseOver={(e) => {\n            e.target.style.background = '#f0f0f0';\n            e.target.style.color = '#333';\n          }}\n          onMouseOut={(e) => {\n            e.target.style.background = 'none';\n            e.target.style.color = '#666';\n          }}\n        >\n          ✕\n        </button>\n        <h3 style={{marginTop:0,marginBottom:20,fontWeight:700,fontSize:22,color:'#333',paddingRight:40}}>{isEdit ? 'Редактировать товар' : 'Добавить товар'}</h3>\n        \n        {/* Основная информация */}\n        <div style={{background:'#f8f9fa',border:'1px solid #e9ecef',borderRadius:8,padding:16,marginBottom:20}}>\n          <h4 style={{margin:'0 0 12px 0',fontSize:16,fontWeight:600,color:'#495057'}}>📋 Основная информация</h4>\n          \n          <div style={{marginBottom:12}}>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Название товара *</label>\n            <input required value={name} onChange={e=>setName(e.target.value)} placeholder=\"Введите название товара\" style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14}} />\n          </div>\n          \n          <div style={{marginBottom:12}}>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Цена (USD) *</label>\n            <input required type=\"text\" value={priceUSD} onChange={e=>setPriceUSD(e.target.value)} placeholder=\"Например: 199.99\" style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14}} />\n            <AdminPriceHint usd={priceUSD} />\n          </div>\n          \n          <div style={{marginBottom:12}}>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Категория</label>\n            <input value={category} onChange={e=>setCategory(e.target.value)} placeholder=\"Например: Электроинструменты\" style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14}} />\n          </div>\n          \n          <div style={{marginBottom:0}}>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Артикул</label>\n            <input value={article} onChange={e=>setArticle(e.target.value)} placeholder=\"Например: 119356208\" style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14}} />\n            <small style={{color:'#6c757d',fontSize:12}}>Уникальный код товара</small>\n          </div>\n        </div>\n\n        {/* Изображения */}\n        <div style={{background:'#f8f9fa',border:'1px solid #e9ecef',borderRadius:8,padding:16,marginBottom:20}}>\n          <h4 style={{margin:'0 0 12px 0',fontSize:16,fontWeight:600,color:'#495057'}}>📸 Изображения</h4>\n          \n          <div style={{marginBottom:12}}>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Главное фото *</label>\n            <input required value={image} onChange={e=>setImage(e.target.value)} placeholder=\"URL главного изображения\" style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14}} />\n            <div style={{display:'flex',gap:8,marginTop:6}}>\n              <input type=\"file\" accept=\"image/*\" onChange={(e)=>handleFileUpload(e, setImage)} style={{flex:1}} />\n              <button type=\"button\" onClick={()=>setImage('/images/products/bolgarka-makita-125.jpg')} style={{background:'#28a745',color:'#fff',border:'none',borderRadius:4,padding:'8px 12px',fontSize:12,cursor:'pointer'}}>Пример</button>\n            </div>\n          </div>\n          \n          {/* Динамические дополнительные фото */}\n          <div style={{marginBottom:12}}>\n            <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:12}}>\n              <label style={{fontWeight:500,color:'#333',fontSize:14}}>Дополнительные фото</label>\n              <button type=\"button\" onClick={addPhotoField} style={{background:'#28a745',color:'#fff',border:'none',borderRadius:4,padding:'6px 12px',fontSize:12,cursor:'pointer'}}>+ Добавить фото</button>\n          </div>\n          \n            {additionalPhotos.map((photo, index) => (\n              <div key={photo.id} style={{marginBottom:12,position:'relative'}}>\n                <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:4}}>\n                  <label style={{fontWeight:500,color:'#333',fontSize:14}}>Фото {index + 2}</label>\n                  <button \n                    type=\"button\" \n                    onClick={() => removePhotoField(photo.id)}\n                    style={{\n                      background:'#dc3545',\n                      color:'#fff',\n                      border:'none',\n                      borderRadius:4,\n                      padding:'4px 8px',\n                      fontSize:12,\n                      cursor:'pointer',\n                      minWidth:30\n                    }}\n                  >\n                    ✕\n                  </button>\n                </div>\n                <input \n                  value={photo.url} \n                  onChange={e => updatePhotoField(photo.id, e.target.value)} \n                  placeholder={`URL ${index + 2}-го изображения`} \n                  style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14}} \n                />\n            <div style={{display:'flex',gap:8,marginTop:6}}>\n                  <input \n                    type=\"file\" \n                    accept=\"image/*\" \n                    onChange={(e) => {\n                      const setField = (url) => updatePhotoField(photo.id, url);\n                      handleFileUpload(e, setField);\n                    }} \n                    style={{flex:1}} \n                  />\n                  <button \n                    type=\"button\" \n                    onClick={() => updatePhotoField(photo.id, `/images/products/example-${index + 2}.jpg`)} \n                    style={{background:'#28a745',color:'#fff',border:'none',borderRadius:4,padding:'8px 12px',fontSize:12,cursor:'pointer'}}\n                  >\n                    Пример\n                  </button>\n            </div>\n              </div>\n            ))}\n          </div>\n          \n          <div style={{marginBottom:0}}>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Фото на обложку каталога</label>\n            <input value={coverPhoto} onChange={e=>setCoverPhoto(e.target.value)} placeholder=\"URL фото для обложки в каталоге\" style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14}} />\n            <div style={{display:'flex',gap:8,marginTop:6}}>\n              <input type=\"file\" accept=\"image/*\" onChange={(e)=>handleFileUpload(e, setCoverPhoto)} style={{flex:1}} />\n              <button type=\"button\" onClick={()=>setCoverPhoto('/images/products/cover-example.jpg')} style={{background:'#28a745',color:'#fff',border:'none',borderRadius:4,padding:'8px 12px',fontSize:12,cursor:'pointer'}}>Пример</button>\n            </div>\n            <small style={{color:'#6c757d',fontSize:12,marginTop:4,display:'block'}}>\n              💡 Это фото будет показываться в каталоге для мастер-товара. Если не указано, используется главное фото.\n            </small>\n          </div>\n        </div>\n\n        {/* Описания */}\n        <div style={{background:'#f8f9fa',border:'1px solid #e9ecef',borderRadius:8,padding:16,marginBottom:20}}>\n          <h4 style={{margin:'0 0 12px 0',fontSize:16,fontWeight:600,color:'#495057'}}>📝 Описания</h4>\n          \n          <div style={{marginBottom:12}}>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Краткое описание</label>\n            <textarea value={shortDescription} onChange={e=>setShortDescription(e.target.value)} placeholder=\"Краткое описание товара (до 160 символов)\" maxLength={160} style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14,minHeight:60,resize:'vertical'}} />\n            <small style={{color:'#6c757d',fontSize:12}}>Используется для карточек товаров</small>\n          </div>\n          \n          <div style={{marginBottom:0}}>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Полное описание</label>\n            <textarea value={description} onChange={e=>setDescription(e.target.value)} placeholder=\"Подробное описание товара, его особенности и преимущества\" style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14,minHeight:80,resize:'vertical'}} />\n          </div>\n        </div>\n\n        {/* Характеристики и комплектация */}\n        <div style={{background:'#f8f9fa',border:'1px solid #e9ecef',borderRadius:8,padding:16,marginBottom:20}}>\n          <h4 style={{margin:'0 0 12px 0',fontSize:16,fontWeight:600,color:'#495057'}}>⚙️ Характеристики и комплектация</h4>\n          \n          <div style={{marginBottom:16}}>\n            <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:12}}>\n              <label style={{fontWeight:500,color:'#333',fontSize:14}}>Технические характеристики</label>\n              <button type=\"button\" onClick={addCharacteristic} style={{background:'#28a745',color:'#fff',border:'none',borderRadius:4,padding:'6px 12px',fontSize:12,cursor:'pointer'}}>+ Добавить</button>\n            </div>\n            \n            <div style={{maxHeight:300,overflowY:'auto',border:'1px solid #ced4da',borderRadius:6,padding:8,background:'#fff'}}>\n              {characteristicFields.map((field, index) => (\n                <div key={index} style={{display:'flex',gap:8,marginBottom:8,alignItems:'center'}}>\n                  <input\n                    value={field.parameter}\n                    onChange={(e) => updateCharacteristic(index, 'parameter', e.target.value)}\n                    placeholder=\"Параметр (например: Код товара)\"\n                    style={{flex:1,padding:8,borderRadius:4,border:'1px solid #ced4da',fontSize:13}}\n                  />\n                  <input\n                    value={field.value}\n                    onChange={(e) => updateCharacteristic(index, 'value', e.target.value)}\n                    placeholder=\"Значение (например: 119356208)\"\n                    style={{flex:1,padding:8,borderRadius:4,border:'1px solid #ced4da',fontSize:13}}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => removeCharacteristic(index)}\n                    style={{background:'#dc3545',color:'#fff',border:'none',borderRadius:4,padding:'6px 8px',fontSize:12,cursor:'pointer',minWidth:30}}\n                  >\n                    ✕\n                  </button>\n                </div>\n              ))}\n            </div>\n            \n            <small style={{color:'#6c757d',fontSize:12,marginTop:8,display:'block'}}>\n              💡 Каждая характеристика будет отображаться как \"Параметр: Значение\". \n              Пустые поля автоматически исключаются.\n            </small>\n          </div>\n          \n          <div style={{marginBottom:0}}>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Комплектация</label>\n            <textarea value={equipment} onChange={e=>setEquipment(e.target.value)} placeholder=\"• Основной инструмент&#10;• Защитный кожух&#10;• Ключ для замены диска&#10;• Инструкция по эксплуатации\" style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14,minHeight:80,resize:'vertical'}} />\n            <small style={{color:'#6c757d',fontSize:12}}>Что входит в комплект поставки</small>\n          </div>\n        </div>\n\n        {error && <div style={{color:'#dc3545',marginBottom:16,padding:12,background:'#f8d7da',border:'1px solid #f5c6cb',borderRadius:6}}>{error}</div>}\n        \n        <div style={{display:'flex',justifyContent:'flex-end',gap:12}}>\n          <button type=\"button\" onClick={onClose} style={{background:'#6c757d',color:'#fff',border:'none',borderRadius:6,padding:'10px 20px',fontWeight:500,cursor:'pointer',fontSize:14}}>Отмена</button>\n          <button type=\"submit\" disabled={loading} style={{background:'#FF6B00',color:'#fff',border:'none',borderRadius:6,padding:'10px 20px',fontWeight:600,cursor:'pointer',fontSize:14}}>{loading ? (isEdit ? 'Сохранение...' : 'Добавление...') : (isEdit ? 'Сохранить' : 'Добавить товар')}</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nfunction DuplicateProductModal({ product, onClose, onSuccess }) {\n  const [name, setName] = useState(product?.name || '');\n  const [priceUSD, setPriceUSD] = useState(\n    product?.priceUSD !== undefined\n      ? String(product.priceUSD)\n      : ''\n  );\n  const [category, setCategory] = useState(product?.category || '');\n  const [article, setArticle] = useState(product?.article || '');\n  const [shortDescription, setShortDescription] = useState(product?.['Short description'] || '');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleCreate = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    let parsedUSD = String(priceUSD).replace(',', '.');\n    if (parsedUSD === '' || isNaN(Number(parsedUSD))) {\n      setError('Введите цену в USD (например: 199.99 или 199,99)');\n      setLoading(false);\n      return;\n    }\n    parsedUSD = String(parsedUSD);\n\n    try {\n      const payload = { ...product };\n      delete payload._id;\n      delete payload.__v;\n      payload.name = name; // без добавления \"копия\"\n      delete payload.price; // цену в тенге бэкенд посчитает сам\n      payload.priceUSD = parsedUSD;\n      payload.category = category;\n      payload.article = article;\n      payload['Short description'] = shortDescription;\n\n      const res = await fetch(PRODUCTS_API_URL, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      });\n\n      if (!res.ok) throw new Error('Ошибка при дублировании товара');\n\n      onSuccess();\n      onClose();\n    } catch (err) {\n      setError(err.message || 'Ошибка');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.18)',zIndex:1000,display:'flex',alignItems:'center',justifyContent:'center'}}>\n      <form onSubmit={handleCreate} style={{background:'#fff',borderRadius:10,padding:24,minWidth:620,maxWidth:900,boxShadow:'0 2px 16px rgba(30,40,90,0.10)',maxHeight:'90vh',overflowY:'auto',position:'relative'}}>\n        <button type=\"button\" onClick={onClose} style={{position:'absolute',top:12,right:12,background:'none',border:'none',fontSize:22,color:'#666',cursor:'pointer'}}>✕</button>\n        <h3 style={{margin:'0 0 16px 0',fontWeight:700,fontSize:20,color:'#333'}}>Дублировать товар</h3>\n\n        <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:12}}>\n          <div>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Название</label>\n            <input value={name} onChange={e=>setName(e.target.value)} style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14}} />\n          </div>\n          <div>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Цена (USD) *</label>\n            <input required value={priceUSD} onChange={e=>setPriceUSD(e.target.value)} placeholder=\"Напр.: 199.99\" style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14}} />\n          </div>\n          <div>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Категория</label>\n            <input value={category} onChange={e=>setCategory(e.target.value)} style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14}} />\n          </div>\n          <div>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Артикул</label>\n            <input value={article} onChange={e=>setArticle(e.target.value)} style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14}} />\n          </div>\n          <div style={{gridColumn:'1 / span 2'}}>\n            <label style={{display:'block',marginBottom:4,fontWeight:500,color:'#333',fontSize:14}}>Краткое описание</label>\n            <textarea value={shortDescription} onChange={e=>setShortDescription(e.target.value)} rows={3} style={{width:'100%',padding:10,borderRadius:6,border:'1px solid #ced4da',fontSize:14}} />\n          </div>\n        </div>\n\n        {error && <div style={{marginTop:12,color:'#d32f2f',fontSize:14}}>{error}</div>}\n        <div style={{marginTop:16,display:'flex',gap:10,justifyContent:'flex-end'}}>\n          <button type=\"button\" onClick={onClose} style={{background:'#f1f3f5',color:'#333',border:'1px solid #dee2e6',borderRadius:6,padding:'8px 14px',cursor:'pointer'}}>Отмена</button>\n          <button type=\"submit\" disabled={loading} style={{background:'#28a745',color:'#fff',border:'none',borderRadius:6,padding:'8px 16px',cursor:'pointer',fontWeight:600}}>{loading ? 'Создание…' : 'Создать дубль'}</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nconst ProductList = ({ onLogout }) => {\n  const [products, setProducts] = useState([]);\n  const [productGroups, setProductGroups] = useState([]); // Добавляем состояние для групп вариаций\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showForm, setShowForm] = useState(false);\n  const [editProduct, setEditProduct] = useState(null);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [selectAll, setSelectAll] = useState(false);\n  \n  // Состояния для сортировки и фильтрации\n  const [sortBy, setSortBy] = useState('name'); // name, category, price, article\n  const [sortOrder, setSortOrder] = useState('asc'); // asc, desc\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [filterVariation, setFilterVariation] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const navigate = useNavigate();\n\n  const fetchProducts = () => {\n    setLoading(true);\n    Promise.all([\n      fetch(API_URL),\n       fetch('https://electro-1-vjdu.onrender.com/api/product-groups')\n    ])\n      .then(responses => Promise.all(responses.map(res => res.json())))\n      .then(([productsData, groupsData]) => {\n        setProducts(Array.isArray(productsData) ? productsData : []);\n        setProductGroups(Array.isArray(groupsData) ? groupsData : []);\n        setLoading(false);\n      })\n      .catch(() => {\n        setError('Ошибка загрузки товаров');\n        setLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const handleEdit = (product) => {\n    setEditProduct(product);\n    setShowForm(true);\n  };\n\n  const handleFormClose = () => {\n    setShowForm(false);\n    setEditProduct(null);\n  };\n\n  const handleDelete = async (product) => {\n    if (!window.confirm(`Удалить товар «${product.name}»?`)) return;\n    try {\n      const res = await fetch(`${PRODUCTS_API_URL}/${product._id}`, { method: 'DELETE' });\n      if (!res.ok) throw new Error('Ошибка при удалении товара');\n      fetchProducts();\n    } catch (e) {\n      alert('Ошибка при удалении товара');\n    }\n  };\n\n  // Функции для работы с галочками\n  const handleSelectProduct = (productId) => {\n    setSelectedProducts(prev => {\n      if (prev.includes(productId)) {\n        return prev.filter(id => id !== productId);\n      } else {\n        return [...prev, productId];\n      }\n    });\n  };\n\n  const handleSelectAll = () => {\n    if (selectAll) {\n      setSelectedProducts([]);\n      setSelectAll(false);\n    } else {\n      setSelectedProducts(products.filter(product => product && product._id).map(product => product._id));\n      setSelectAll(true);\n    }\n  };\n\n  const handleDeleteSelected = async () => {\n    if (selectedProducts.length === 0) {\n      alert('Выберите товары для удаления');\n      return;\n    }\n\n    const confirmMessage = selectedProducts.length === 1 \n      ? `Удалить выбранный товар?` \n      : `Удалить ${selectedProducts.length} выбранных товаров?`;\n\n    if (!window.confirm(confirmMessage)) return;\n\n    try {\n      const deletePromises = selectedProducts.map(productId => \n        fetch(`${PRODUCTS_API_URL}/${productId}`, { method: 'DELETE' })\n      );\n\n      await Promise.all(deletePromises);\n      setSelectedProducts([]);\n      setSelectAll(false);\n      fetchProducts();\n    } catch (e) {\n      alert('Ошибка при удалении товаров');\n    }\n  };\n\n  // Функции для фильтрации и сортировки\n  const getFilteredAndSortedProducts = () => {\n    let filtered = [...products];\n\n    // Фильтрация по поиску\n    if (searchTerm) {\n      filtered = filtered.filter(product => \n        product.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        product.article?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        product.category?.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n\n    // Фильтрация по категории\n    if (filterCategory !== 'all') {\n      filtered = filtered.filter(product => product.category === filterCategory);\n    }\n\n    // Фильтрация по вариациям\n    if (filterVariation !== 'all') {\n      if (filterVariation === 'variants') {\n        filtered = filtered.filter(product => isProductVariant(product._id));\n      } else if (filterVariation === 'masters') {\n        filtered = filtered.filter(product => !isProductVariant(product._id));\n      }\n    }\n\n    // Сортировка\n    filtered.sort((a, b) => {\n      let aValue = a[sortBy] || '';\n      let bValue = b[sortBy] || '';\n\n      // Для числовых значений\n      if (sortBy === 'price' || sortBy === 'priceUSD') {\n        aValue = parseFloat(aValue) || 0;\n        bValue = parseFloat(bValue) || 0;\n      } else {\n        // Для текстовых значений\n        aValue = String(aValue).toLowerCase();\n        bValue = String(bValue).toLowerCase();\n      }\n\n      if (sortOrder === 'asc') {\n        return aValue > bValue ? 1 : -1;\n      } else {\n        return aValue < bValue ? 1 : -1;\n      }\n    });\n\n    return filtered;\n  };\n\n  // Получаем уникальные категории\n  const getUniqueCategories = () => {\n    const categories = products.map(p => p.category).filter(Boolean);\n    return [...new Set(categories)].sort();\n  };\n\n  // Функция для определения, является ли товар вариацией\n  const isProductVariant = (productId) => {\n    if (!productId || !Array.isArray(productGroups)) return false;\n    return productGroups.some(group => \n      Array.isArray(group.variants) && group.variants.some(variant => {\n        if (!variant.productId) return false;\n        if (typeof variant.productId === 'string') {\n          return variant.productId === productId;\n        }\n        if (variant.productId && variant.productId._id) {\n          return variant.productId._id === productId;\n        }\n        return false;\n      })\n    );\n  };\n\n  // Функция для получения информации о группе вариаций\n  const getVariantGroupInfo = (productId) => {\n    if (!productId || !Array.isArray(productGroups)) return null;\n    const group = productGroups.find(group => \n      Array.isArray(group.variants) && group.variants.some(variant => {\n        if (!variant.productId) return false;\n        if (typeof variant.productId === 'string') {\n          return variant.productId === productId;\n        }\n        if (variant.productId && variant.productId._id) {\n          return variant.productId._id === productId;\n        }\n        return false;\n      })\n    );\n    return group;\n  };\n\n  const [duplicateProduct, setDuplicateProduct] = useState(null);\n  const handleDuplicate = (product) => {\n    setDuplicateProduct(product);\n  };\n\n  const handleDuplicateFull = (product) => {\n    // Открываем полную форму добавления, предварительно заполнив данными товара\n    const clone = { ...product };\n    delete clone._id;\n    delete clone.__v;\n    setEditProduct(clone); // передадим как initialData\n    setShowForm(true);     // форма откроется в режиме создания (isEdit === false)\n  };\n\n  // Сброс выбора при изменении списка товаров\n  useEffect(() => {\n    setSelectedProducts([]);\n    setSelectAll(false);\n  }, [products]);\n\n  return (\n    <div className=\"admin-container\" style={{minHeight: '100vh', background: '#f5f7fa', padding: '32px 0'}}>\n      <div style={{maxWidth: 1100, margin: '0 auto', background: '#fff', borderRadius: 10, border: '1.5px solid #e0e0e0', padding: 24}}>\n        <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 18}}>\n          <h2 className=\"admin-header\" style={{fontWeight: 700, fontSize: 24, color: '#1a2236', margin: 0}}>Товары</h2>\n          <div className=\"admin-nav\">\n            <button onClick={()=>{setShowForm(true);setEditProduct(null);}} className=\"nav-btn\" style={{background: '#FF6B00'}}>+ Добавить товар</button>\n            {selectedProducts.length > 0 && (\n              <button \n                onClick={handleDeleteSelected} \n                style={{\n                  background: '#dc3545', \n                  color: '#fff', \n                  fontWeight: 600, \n                  fontSize: 15, \n                  border: 'none', \n                  borderRadius: 7, \n                  padding: '8px 18px', \n                  marginRight: 12, \n                  cursor: 'pointer'\n                }}\n              >\n                🗑️ Удалить выбранные ({selectedProducts.length})\n              </button>\n            )}\n            <button onClick={() => navigate('/admin/variations')} className=\"nav-btn nav-variations\">🔄 Вариации</button>\n            <button onClick={() => navigate('/admin/settings')} className=\"nav-btn nav-settings\">⚙️ Настройки</button>\n            <button onClick={() => navigate('/admin/analytics')} className=\"nav-btn nav-analytics\">📊 Аналитика</button>\n            <button onClick={() => navigate('/admin/pickup-points')} className=\"nav-btn nav-pickup\">🏬 Пункты самовывоза</button>\n            <button onClick={onLogout} className=\"nav-btn nav-logout\">Выйти</button>\n          </div>\n        </div>\n        \n        {/* Элементы управления сортировкой и фильтрацией */}\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr 1fr 1fr',\n          gap: '12px',\n          marginBottom: '20px',\n          padding: '16px',\n          background: '#f8f9fa',\n          borderRadius: '8px',\n          border: '1px solid #e9ecef'\n        }}>\n          {/* Поиск */}\n          <div>\n            <label style={{display: 'block', marginBottom: '4px', fontSize: '12px', fontWeight: '500', color: '#495057'}}>\n              🔍 Поиск\n            </label>\n            <input\n              type=\"text\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              placeholder=\"Название, артикул, категория...\"\n              style={{\n                width: '100%',\n                padding: '8px 12px',\n                border: '1px solid #ced4da',\n                borderRadius: '4px',\n                fontSize: '14px'\n              }}\n            />\n          </div>\n\n          {/* Фильтр по категории */}\n          <div>\n            <label style={{display: 'block', marginBottom: '4px', fontSize: '12px', fontWeight: '500', color: '#495057'}}>\n              📂 Категория\n            </label>\n            <select\n              value={filterCategory}\n              onChange={(e) => setFilterCategory(e.target.value)}\n              style={{\n                width: '100%',\n                padding: '8px 12px',\n                border: '1px solid #ced4da',\n                borderRadius: '4px',\n                fontSize: '14px'\n              }}\n            >\n              <option value=\"all\">Все категории</option>\n              {getUniqueCategories().map(cat => (\n                <option key={cat} value={cat}>{cat}</option>\n              ))}\n            </select>\n          </div>\n\n          {/* Фильтр по вариациям */}\n          <div>\n            <label style={{display: 'block', marginBottom: '4px', fontSize: '12px', fontWeight: '500', color: '#495057'}}>\n              🔄 Тип товара\n            </label>\n            <select\n              value={filterVariation}\n              onChange={(e) => setFilterVariation(e.target.value)}\n              style={{\n                width: '100%',\n                padding: '8px 12px',\n                border: '1px solid #ced4da',\n                borderRadius: '4px',\n                fontSize: '14px'\n              }}\n            >\n              <option value=\"all\">Все товары</option>\n              <option value=\"masters\">Мастер-товары</option>\n              <option value=\"variants\">Вариации</option>\n            </select>\n          </div>\n\n          {/* Сортировка */}\n          <div>\n            <label style={{display: 'block', marginBottom: '4px', fontSize: '12px', fontWeight: '500', color: '#495057'}}>\n              📊 Сортировка\n            </label>\n            <div style={{display: 'flex', gap: '4px'}}>\n              <select\n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value)}\n                style={{\n                  flex: '1',\n                  padding: '8px 12px',\n                  border: '1px solid #ced4da',\n                  borderRadius: '4px',\n                  fontSize: '14px'\n                }}\n              >\n                <option value=\"name\">По названию</option>\n                <option value=\"category\">По категории</option>\n                <option value=\"price\">По цене (₸)</option>\n                <option value=\"priceUSD\">По цене ($)</option>\n                <option value=\"article\">По артикулу</option>\n              </select>\n              <button\n                onClick={() => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')}\n                style={{\n                  padding: '8px 12px',\n                  border: '1px solid #ced4da',\n                  borderRadius: '4px',\n                  background: '#fff',\n                  cursor: 'pointer',\n                  fontSize: '14px'\n                }}\n                title={sortOrder === 'asc' ? 'По возрастанию' : 'По убыванию'}\n              >\n                {sortOrder === 'asc' ? '↑' : '↓'}\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        {/* Информация о выбранных товарах */}\n        {selectedProducts.length > 0 && (\n          <div style={{\n            background: '#e3f2fd', \n            border: '1px solid #2196f3', \n            borderRadius: '6px', \n            padding: '12px 16px', \n            marginBottom: '16px',\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          }}>\n            <span style={{color: '#1976d2', fontWeight: 500}}>\n              Выбрано товаров: {selectedProducts.length} из {getFilteredAndSortedProducts().length}\n            </span>\n            <button \n              onClick={() => {setSelectedProducts([]); setSelectAll(false);}}\n              style={{\n                background: 'none',\n                border: '1px solid #2196f3',\n                color: '#2196f3',\n                padding: '4px 12px',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                fontSize: '14px'\n              }}\n            >\n              Снять выделение\n            </button>\n          </div>\n        )}\n        \n      {loading ? (\n          <div style={{padding: 32, textAlign: 'center'}}>Загрузка...</div>\n      ) : error ? (\n          <div style={{color: '#e53935', padding: 32, textAlign: 'center'}}>{error}</div>\n      ) : (\n          <table className=\"admin-table\" style={{width: '100%', borderCollapse: 'collapse', fontSize: 15, background: '#fff'}}>\n          <thead>\n            <tr style={{background: '#f5f7fa'}}>\n                <th style={{padding: '8px 6px', textAlign: 'center', fontWeight: 600, color: '#222', width: '40px'}}>\n                  <input \n                    type=\"checkbox\" \n                    checked={selectAll}\n                    onChange={handleSelectAll}\n                    style={{width: '16px', height: '16px', cursor: 'pointer'}}\n                  />\n                </th>\n                <th style={{padding: '8px 6px', textAlign: 'left', fontWeight: 600, color: '#222'}}>Фото</th>\n                <th style={{padding: '8px 6px', textAlign: 'left', fontWeight: 600, color: '#222'}}>Название</th>\n                <th style={{padding: '8px 6px', textAlign: 'left', fontWeight: 600, color: '#222'}}>Цена</th>\n                <th style={{padding: '8px 6px', textAlign: 'left', fontWeight: 600, color: '#222'}}>Категория</th>\n                <th style={{padding: '8px 6px', textAlign: 'left', fontWeight: 600, color: '#222'}}>Артикул</th>\n                <th style={{padding: '8px 6px', textAlign: 'center', fontWeight: 600, color: '#222'}}>Действия</th>\n            </tr>\n          </thead>\n          <tbody>\n            {getFilteredAndSortedProducts().filter(product => product && product._id).map(product => (\n                <tr key={product._id} style={{\n                  borderBottom: '1px solid #e0e0e0',\n                  backgroundColor: selectedProducts.includes(product._id) ? '#f8f9fa' : 'transparent'\n                }}>\n                  <td style={{padding: '6px 6px', textAlign: 'center'}}>\n                    <input \n                      type=\"checkbox\" \n                      checked={selectedProducts.includes(product._id)}\n                      onChange={() => handleSelectProduct(product._id)}\n                      style={{width: '16px', height: '16px', cursor: 'pointer'}}\n                    />\n                  </td>\n                  <td style={{padding: '6px 6px'}}>\n                    <img src={product.image || '/images/products/placeholder.png'} alt={product.name} style={{width: 44, height: 44, objectFit: 'contain', borderRadius: 5, background: '#f5f7fa', border: '1px solid #e0e0e0'}} />\n                  </td>\n                  <td style={{padding: '6px 6px', fontWeight: 500, color: '#1a2236'}}>\n                    <div style={{display: 'flex', alignItems: 'center', gap: '8px'}}>\n                      {product.name}\n                      {isProductVariant(product._id) && (\n                        <span style={{\n                          background: '#FF6B00',\n                          color: '#fff',\n                          fontSize: '10px',\n                          padding: '2px 6px',\n                          borderRadius: '10px',\n                          fontWeight: '600'\n                        }}>\n                          🔄 Вариация\n                        </span>\n                      )}\n                    </div>\n                  </td>\n                  <td style={{padding: '6px 6px', color: '#FFB300', fontWeight: 700}}>{product.price ? String(product.price).replace('.', ',') + ' ₸' : ''}</td>\n                  <td style={{padding: '6px 6px', color: '#222'}}>{product.category || '-'}</td>\n                  <td style={{padding: '6px 6px', color: '#555', fontSize: 13}}>{product.article || '-'}</td>\n                  <td style={{padding: '6px 6px', textAlign: 'center'}}>\n                    <div style={{display: 'flex', flexDirection: 'column', gap: '6px'}}>\n                      <button onClick={()=>handleEdit(product)} style={{background: '#1e88e5', color: '#fff', border: 'none', borderRadius: 6, padding: '6px 14px', fontWeight: 500, cursor: 'pointer', width: '100%'}}>Редактировать</button>\n                      <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:6}}>\n                        <button onClick={()=>handleDuplicate(product)} style={{background: '#28a745', color: '#fff', border: 'none', borderRadius: 6, padding: '6px 10px', fontWeight: 500, cursor: 'pointer', width: '100%'}}>Дублир. (коротко)</button>\n                        <button onClick={()=>handleDuplicateFull(product)} style={{background: '#0d6efd', color: '#fff', border: 'none', borderRadius: 6, padding: '6px 10px', fontWeight: 500, cursor: 'pointer', width: '100%'}}>Дублир. (полная)</button>\n                      </div>\n                      <button onClick={()=>handleDelete(product)} style={{background: '#e53935', color: '#fff', border: 'none', borderRadius: 6, padding: '6px 14px', fontWeight: 500, cursor: 'pointer', width: '100%'}}>Удалить</button>\n                    </div>\n                  </td>\n                </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n      </div>\n      {showForm && <ProductForm onClose={handleFormClose} onSuccess={fetchProducts} initialData={editProduct} />}\n      {duplicateProduct && (\n        <DuplicateProductModal\n          product={duplicateProduct}\n          onClose={() => setDuplicateProduct(null)}\n          onSuccess={fetchProducts}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ProductList; "],"names":["PRODUCTS_API_URL","ProductForm","_ref","onClose","onSuccess","initialData","name","setName","useState","priceUSD","setPriceUSD","undefined","String","category","setCategory","article","setArticle","image","setImage","coverPhoto","setCoverPhoto","additionalPhotos","setAdditionalPhotos","images","Array","isArray","map","photo","index","id","url","description","setDescription","shortDescription","setShortDescription","characteristics","setCharacteristics","equipment","setEquipment","loading","setLoading","error","setError","AdminPriceHint","_ref2","usd","rate","setRate","markupPercentage","setMarkupPercentage","useEffect","mounted","r","fetch","j","json","infoResponse","infoData","information","_","fallback","parseFloat","process","REACT_APP_USD_KZT_RATE","val","replace","isNaN","markupMultiplier","kzt","Math","round","_jsxs","style","marginTop","fontSize","color","children","toLocaleString","updatePhotoField","_objectSpread","characteristicFields","setCharacteristicFields","parsed","JSON","parse","_unused","split","filter","line","trim","parts","length","parameter","value","slice","join","handleFileUpload","async","event","setField","files","from","target","formData","FormData","append","response","method","body","ok","errorData","Error","result","webp","_result$variants","_result$variants$thum","_result$variants2","_result$variants2$med","_result$variants3","_result$variants3$lar","path","imageVariants","original","thumb","variants","medium","large","localStorage","setItem","stringify","setTimeout","alert","concat","filename","size","err","message","updateCharacteristic","field","newFields","isEdit","Boolean","_id","_jsx","position","top","left","right","bottom","background","zIndex","display","alignItems","justifyContent","onSubmit","e","preventDefault","parsedUSD","Number","allPhotos","getItem","parsedVariants","payload","images2","images3","removeItem","headers","borderRadius","padding","minWidth","maxWidth","boxShadow","maxHeight","overflowY","type","onClick","border","cursor","width","height","transition","onMouseOver","onMouseOut","marginBottom","fontWeight","paddingRight","margin","required","onChange","placeholder","gap","accept","flex","addPhotoField","newId","max","p","removePhotoField","maxLength","minHeight","resize","addCharacteristic","i","removeCharacteristic","disabled","DuplicateProductModal","_ref3","product","__v","price","gridTemplateColumns","gridColumn","rows","_ref4","onLogout","products","setProducts","productGroups","setProductGroups","showForm","setShowForm","editProduct","setEditProduct","selectedProducts","setSelectedProducts","selectAll","setSelectAll","sortBy","setSortBy","sortOrder","setSortOrder","filterCategory","setFilterCategory","filterVariation","setFilterVariation","searchTerm","setSearchTerm","navigate","useNavigate","fetchProducts","Promise","all","then","responses","res","_ref5","productsData","groupsData","catch","getFilteredAndSortedProducts","filtered","_product$name","_product$article","_product$category","toLowerCase","includes","isProductVariant","sort","a","b","aValue","bValue","productId","some","group","variant","duplicateProduct","setDuplicateProduct","className","confirmMessage","window","confirm","deletePromises","marginRight","getUniqueCategories","categories","Set","cat","title","textAlign","borderCollapse","checked","handleSelectAll","borderBottom","backgroundColor","handleSelectProduct","prev","src","alt","objectFit","flexDirection","handleEdit","handleDuplicate","clone","handleDuplicateFull","handleDelete","handleFormClose"],"sourceRoot":""}