"use strict";(self.webpackChunkelectro=self.webpackChunkelectro||[]).push([[883],{883:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var s=n(43),d=n(924),i=n(579);const a=e=>{let{onLogout:t}=e;const[n,a]=(0,s.useState)([]),[l,r]=(0,s.useState)(!0),[c,o]=(0,s.useState)(""),x=(0,d.Zp)();return(0,s.useEffect)(()=>{(async()=>{r(!0),o("");try{const e=await fetch("https://electro-1-vjdu.onrender.com/api/orders"),t=await e.json();t&&t.success&&Array.isArray(t.orders)?a(t.orders):Array.isArray(t)?a(t):a([])}catch(e){o("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0437\u0430\u043a\u0430\u0437\u043e\u0432")}finally{r(!1)}})()},[]),(0,i.jsx)("div",{className:"admin-container",style:{minHeight:"100vh",background:"#f5f7fa",padding:"32px 0"},children:(0,i.jsxs)("div",{style:{maxWidth:1100,margin:"0 auto",background:"#fff",borderRadius:10,border:"1.5px solid #e0e0e0",padding:24},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:18},children:[(0,i.jsx)("h2",{style:{fontWeight:700,fontSize:24,color:"#1a2236",margin:0},children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),(0,i.jsxs)("div",{className:"admin-nav",children:[(0,i.jsx)("button",{onClick:()=>{x("/admin/products")},className:"nav-btn",style:{background:"#FF6B00"},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"}),(0,i.jsx)("button",{onClick:()=>x("/admin/variations"),className:"nav-btn nav-variations",children:"\ud83d\udd04 \u0412\u0430\u0440\u0438\u0430\u0446\u0438\u0438"}),(0,i.jsx)("button",{onClick:()=>x("/admin/orders"),className:"nav-btn",style:{background:"#1e88e5"},children:"\ud83e\uddfe \u0417\u0430\u043a\u0430\u0437\u044b"}),(0,i.jsx)("button",{onClick:()=>x("/admin/settings"),className:"nav-btn nav-settings",children:"\u2699\ufe0f \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,i.jsx)("button",{onClick:()=>x("/admin/analytics"),className:"nav-btn nav-analytics",children:"\ud83d\udcca \u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"}),(0,i.jsx)("button",{onClick:()=>x("/admin/pickup-points"),className:"nav-btn nav-pickup",children:"\ud83c\udfec \u041f\u0443\u043d\u043a\u0442\u044b \u0441\u0430\u043c\u043e\u0432\u044b\u0432\u043e\u0437\u0430"}),(0,i.jsx)("button",{onClick:t,className:"nav-btn nav-logout",children:"\u0412\u044b\u0439\u0442\u0438"})]})]}),l?(0,i.jsx)("div",{style:{padding:32,textAlign:"center"},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430\u2026"}):c?(0,i.jsx)("div",{style:{color:"#e53935",padding:32,textAlign:"center"},children:c}):0===n.length?(0,i.jsx)("div",{style:{padding:24,textAlign:"center",color:"#666"},children:"\u0417\u0430\u043a\u0430\u0437\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"}):(0,i.jsxs)("table",{className:"admin-table",style:{width:"100%",borderCollapse:"collapse",fontSize:15,background:"#fff"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{style:{background:"#f5f7fa"},children:[(0,i.jsx)("th",{style:{padding:"8px 6px",textAlign:"left"},children:"\u0414\u0430\u0442\u0430"}),(0,i.jsx)("th",{style:{padding:"8px 6px",textAlign:"left"},children:"\u041a\u043b\u0438\u0435\u043d\u0442"}),(0,i.jsx)("th",{style:{padding:"8px 6px",textAlign:"left"},children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,i.jsx)("th",{style:{padding:"8px 6px",textAlign:"left"},children:"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430"}),(0,i.jsx)("th",{style:{padding:"8px 6px",textAlign:"left"},children:"\u041e\u043f\u043b\u0430\u0442\u0430"}),(0,i.jsx)("th",{style:{padding:"8px 6px",textAlign:"left"},children:"\u0421\u0443\u043c\u043c\u0430"}),(0,i.jsx)("th",{style:{padding:"8px 6px",textAlign:"left"},children:"\u0422\u043e\u0432\u0430\u0440\u044b"})]})}),(0,i.jsx)("tbody",{children:n.map(e=>(0,i.jsxs)("tr",{style:{borderBottom:"1px solid #e0e0e0"},children:[(0,i.jsx)("td",{style:{padding:"8px 6px"},children:new Date(e.createdAt).toLocaleString("ru-RU")}),(0,i.jsx)("td",{style:{padding:"8px 6px"},children:e.firstName}),(0,i.jsx)("td",{style:{padding:"8px 6px"},children:e.phone}),(0,i.jsx)("td",{style:{padding:"8px 6px"},children:"delivery"===e.deliveryType?"\u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 ".concat(e.address?"("+e.address+")":""):"\u0421\u0430\u043c\u043e\u0432\u044b\u0432\u043e\u0437"}),(0,i.jsxs)("td",{style:{padding:"8px 6px"},children:["cash"===e.payment?"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438":"\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u043e","cashless"===e.payment&&e.paymentMethod?" (".concat(e.paymentMethod,")"):""]}),(0,i.jsxs)("td",{style:{padding:"8px 6px",color:"#FFB300",fontWeight:700},children:[(e.total||0).toLocaleString("ru-RU")," \u20b8"]}),(0,i.jsx)("td",{style:{padding:"8px 6px"},children:Array.isArray(e.items)&&e.items.length>0?(0,i.jsx)("ul",{style:{margin:0,paddingLeft:16},children:e.items.map((e,t)=>(0,i.jsxs)("li",{children:[e.productName||e.productId," \xd7",e.quantity||1]},t))}):(0,i.jsx)("span",{style:{color:"#666"},children:"\u2014"})})]},e._id))})]})]})})}}}]);
//# sourceMappingURL=883.6bd1d4b9.chunk.js.map