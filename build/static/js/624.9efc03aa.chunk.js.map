{"version":3,"file":"static/js/624.9efc03aa.chunk.js","mappings":"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","sources":["components/Modal.js","utils/telegram.js","pages/Product.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { validateForm, sendToTelegram } from '../utils/telegram';\r\nimport '../styles/Modal.css';\r\n\r\nconst Modal = ({ isOpen, onClose, onSubmit }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    phone: '',\r\n    message: ''\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n    \r\n    // –û—á–∏—â–∞–µ–º –æ—à–∏–±–∫—É –ø—Ä–∏ –≤–≤–æ–¥–µ\r\n    if (errors[name]) {\r\n      setErrors({\r\n        ...errors,\r\n        [name]: ''\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã\r\n    const validation = validateForm(formData);\r\n    if (!validation.isValid) {\r\n      setErrors(validation.errors);\r\n      return;\r\n    }\r\n    \r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram\r\n      const result = await sendToTelegram(formData);\r\n      \r\n      if (result.success) {\r\n        onSubmit(formData);\r\n        setFormData({ name: '', phone: '', message: '' });\r\n        setErrors({});\r\n        onClose();\r\n      } else {\r\n        alert('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');\r\n      }\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:', error);\r\n      alert('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\" onClick={onClose}>\r\n      <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"modal-header\">\r\n          <h3>–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</h3>\r\n          <button className=\"modal-close\" onClick={onClose}>√ó</button>\r\n        </div>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"modal-form\">\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\">–ò–º—è *</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n              className={errors.name ? 'error' : ''}\r\n            />\r\n            {errors.name && <span className=\"error-message\">{errors.name}</span>}\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"phone\">–¢–µ–ª–µ—Ñ–æ–Ω *</label>\r\n            <input\r\n              type=\"tel\"\r\n              id=\"phone\"\r\n              name=\"phone\"\r\n              value={formData.phone}\r\n              onChange={handleChange}\r\n              className={errors.phone ? 'error' : ''}\r\n              placeholder=\"+7 (777) 777-77-77\"\r\n            />\r\n            {errors.phone && <span className=\"error-message\">{errors.phone}</span>}\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"message\">–°–æ–æ–±—â–µ–Ω–∏–µ</label>\r\n            <textarea\r\n              id=\"message\"\r\n              name=\"message\"\r\n              value={formData.message}\r\n              onChange={handleChange}\r\n              rows=\"4\"\r\n              placeholder=\"–û–ø–∏—à–∏—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å...\"\r\n            />\r\n          </div>\r\n          \r\n          <button \r\n            type=\"submit\" \r\n            className=\"btn-submit\"\r\n            disabled={isSubmitting}\r\n          >\r\n            {isSubmitting ? '–û—Ç–ø—Ä–∞–≤–∫–∞...' : '–û—Ç–ø—Ä–∞–≤–∏—Ç—å'}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal; ","// –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º –≤ Telegram\r\n// –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot API\r\n\r\nexport const sendToTelegram = async (formData) => {\r\n  try {\r\n    // –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ä–µ–∞–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram\r\n    // –ü–æ–∫–∞ —á—Ç–æ –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ\r\n    \r\n    const message = `\r\nüîî –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ —Å —Å–∞–π—Ç–∞!\r\n\r\nüë§ –ò–º—è: ${formData.name}\r\nüìû –¢–µ–ª–µ—Ñ–æ–Ω: ${formData.phone}\r\nüí¨ –°–æ–æ–±—â–µ–Ω–∏–µ: ${formData.message || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}\r\n‚è∞ –í—Ä–µ–º—è: ${new Date().toLocaleString('ru-RU')}\r\n    `;\r\n\r\n    console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram:', message);\r\n    \r\n    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –±—É–¥–µ—Ç fetch –∑–∞–ø—Ä–æ—Å –∫ Telegram Bot API\r\n    // const response = await fetch('/api/send-telegram', {\r\n    //   method: 'POST',\r\n    //   headers: {\r\n    //     'Content-Type': 'application/json',\r\n    //   },\r\n    //   body: JSON.stringify({\r\n    //     chat_id: 'YOUR_CHAT_ID',\r\n    //     text: message,\r\n    //     parse_mode: 'HTML'\r\n    //   })\r\n    // });\r\n    \r\n    return { success: true, message: '–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!' };\r\n  } catch (error) {\r\n    console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram:', error);\r\n    return { success: false, message: '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏' };\r\n  }\r\n};\r\n\r\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã\r\nexport const validateForm = (formData) => {\r\n  const errors = {};\r\n  \r\n  if (!formData.name.trim()) {\r\n    errors.name = '–ò–º—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è';\r\n  }\r\n  \r\n  if (!formData.phone.trim()) {\r\n    errors.phone = '–¢–µ–ª–µ—Ñ–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è';\r\n  } else if (!/^[+]?[0-9\\s\\-()]{10,}$/.test(formData.phone)) {\r\n    errors.phone = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞';\r\n  }\r\n  \r\n  return {\r\n    isValid: Object.keys(errors).length === 0,\r\n    errors\r\n  };\r\n}; ","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Footer from '../components/Footer';\nimport Modal from '../components/Modal';\nimport DeliveryInfo from '../components/DeliveryInfo';\nimport '../styles/Product.css';\n\nconst categories = [\n  { id: 'grinders', name: '–ë–æ–ª–≥–∞—Ä–∫–∏' },\n  { id: 'screwdrivers', name: '–®—É—Ä—É–ø–æ–≤—ë—Ä—Ç—ã' },\n  { id: 'hammers', name: '–ü–µ—Ä—Ñ–æ—Ä–∞—Ç–æ—Ä—ã' },\n  { id: 'drills', name: '–î—Ä–µ–ª–∏' },\n  { id: 'jigsaws', name: '–õ–æ–±–∑–∏–∫–∏' },\n  { id: 'levels', name: '–õ–∞–∑–µ—Ä–Ω—ã–µ —É—Ä–æ–≤–Ω–∏' },\n  { id: 'generators', name: '–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã' },\n  { id: 'measuring', name: '–ò–∑–º–µ—Ä–∏—Ç–µ–ª–∏' }\n];\n\nconst Product = () => {\n  const { id } = useParams();\n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [activeImage, setActiveImage] = useState(0);\n  const [showImageModal, setShowImageModal] = useState(false);\n  const [miniProducts, setMiniProducts] = useState([]);\n  const [siteSettings, setSiteSettings] = useState({\n    city: '–ê–ª–º–∞—Ç—ã',\n    deliveryInfo: {\n      freeDelivery: '–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≥–æ—Ä–æ–¥—É',\n      freeDeliveryNote: '–°–µ–≥–æ–¥–Ω—è ‚Äî –ë–ï–°–ü–õ–ê–¢–ù–û',\n      pickupAddress: '—É–ª. –¢–æ–ª–µ –±–∏ 216–ë',\n      pickupInfo: '–°–µ–≥–æ–¥–Ω—è —Å 9:00 –¥–æ 18:00 ‚Äî –±–æ–ª—å—à–µ 5',\n      deliveryNote: '–°—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –ø–æ—Å–ª–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞'\n    }\n  });\n  \n  const [selectedCity, setSelectedCity] = useState(() => {\n    const savedCity = localStorage.getItem('selectedCity');\n    return savedCity || '–ê–ª–º–∞—Ç—ã';\n  });\n  \n  const [selectedDelivery, setSelectedDelivery] = useState(null);\n  const [deliveryInfo, setDeliveryInfo] = useState(null);\n  const [isCityChanging, setIsCityChanging] = useState(false);\n  \n  // –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –≤–∞—Ä–∏–∞—Ü–∏–π —Ç–æ–≤–∞—Ä–∞\n  const [productWithVariations, setProductWithVariations] = useState(null);\n  const [selectedVariation, setSelectedVariation] = useState(null);\n  const [variationType, setVariationType] = useState('');\n  const [selectedParameters, setSelectedParameters] = useState({});\n  \n\n  \n  const [detectingCity, setDetectingCity] = useState(false);\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞\n  const detectUserCity = () => {\n    if (navigator.geolocation) {\n      setDetectingCity(true);\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const { latitude, longitude } = position.coords;\n          \n          // –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—Ä–∞—Ç–Ω–æ–µ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞\n          fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${latitude}&lon=${longitude}&addressdetails=1`)\n            .then(response => response.json())\n            .then(data => {\n              if (data.address && data.address.city) {\n                const detectedCity = data.address.city;\n                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —ç—Ç–æ—Ç –≥–æ—Ä–æ–¥ –≤ –Ω–∞—à–µ–º —Å–ø–∏—Å–∫–µ\n                if (cities.includes(detectedCity)) {\n                  setSelectedCity(detectedCity);\n                  localStorage.setItem('selectedCity', detectedCity);\n                }\n              }\n              setDetectingCity(false);\n            })\n            .catch(error => {\n              console.log('–û—à–∏–±–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞:', error);\n              setDetectingCity(false);\n            });\n        },\n        (error) => {\n          console.log('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏:', error);\n          setDetectingCity(false);\n        },\n        {\n          enableHighAccuracy: true,\n          timeout: 10000,\n          maximumAge: 300000 // 5 –º–∏–Ω—É—Ç\n        }\n      );\n    }\n  };\n  \n  // –°–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞\n  const cities = [\n    '–ê–ª–º–∞—Ç—ã',\n    '–ê—Å—Ç–∞–Ω–∞',\n    '–®—ã–º–∫–µ–Ω—Ç',\n    '–ê–∫—Ç–æ–±–µ',\n    '–ö–∞—Ä–∞–≥–∞–Ω–¥–∞',\n    '–¢–∞—Ä–∞–∑',\n    '–ü–∞–≤–ª–æ–¥–∞—Ä',\n    '–°–µ–º–µ–π',\n    '–£—Å—Ç—å-–ö–∞–º–µ–Ω–æ–≥–æ—Ä—Å–∫',\n    '–£—Ä–∞–ª—å—Å–∫',\n    '–ö—ã–∑—ã–ª–æ—Ä–¥–∞',\n    '–ö–æ—Å—Ç–∞–Ω–∞–π',\n    '–ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫',\n    '–ê—Ç—ã—Ä–∞—É',\n    '–ê–∫—Ç–∞—É',\n    '–¢–µ–º–∏—Ä—Ç–∞—É',\n    '–¢—É—Ä–∫–µ—Å—Ç–∞–Ω',\n    '–ö–æ–∫—à–µ—Ç–∞—É',\n    '–¢–∞–ª–¥—ã–∫–æ—Ä–≥–∞–Ω',\n    '–≠–∫–∏–±–∞—Å—Ç—É–∑',\n    '–†—É–¥–Ω—ã–π',\n    '–ñ–∞–Ω–∞–æ–∑–µ–Ω',\n    '–ñ–µ–∑–∫–∞–∑–≥–∞–Ω',\n    '–ë–∞–ª—Ö–∞—à',\n    '–ö–µ–Ω—Ç–∞—É',\n    '–°–∞—Ç–ø–∞–µ–≤',\n    '–ö–∞–ø—á–∞–≥–∞–π',\n    '–†–∏–¥–¥–µ—Ä',\n    '–°—Ç–µ–ø–Ω–æ–≥–æ—Ä—Å–∫',\n    '–ê—Ä–∞–ª—å—Å–∫',\n    '–ê—Ä–∫–∞–ª—ã–∫',\n    '–ñ–∏—Ç–∏–∫–∞—Ä–∞',\n    '–ö–∞–Ω–¥—ã–∞–≥–∞—à',\n    '–õ–∏—Å–∞–∫–æ–≤—Å–∫',\n    '–®–∞—Ö—Ç–∏–Ω—Å–∫',\n    '–ê–±–∞–π',\n    '–ê—è–≥–æ–∑',\n    '–ó–∞–π—Å–∞–Ω',\n    '–ö—É—Ä—á–∞—Ç–æ–≤',\n    '–ü—Ä–∏–æ–∑–µ—Ä—Å–∫',\n    '–°–µ—Ä–µ–±—Ä—è–Ω—Å–∫',\n    '–¢–µ–∫–µ–ª–∏',\n    '–£—à—Ç–æ–±–µ',\n    '–ß–∞—Ä—Å–∫',\n    '–®–µ–º–æ–Ω–∞–∏—Ö–∞',\n    '–©—É—á–∏–Ω—Å–∫'\n  ];\n  \n  // –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª–µ–π\n  const getAllImages = () => {\n    const images = [];\n    const currentProduct = getCurrentProduct();\n    \n    // –î–æ–±–∞–≤–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑ –ø–æ–ª—è image (–µ—Å–ª–∏ –µ—Å—Ç—å)\n    if (currentProduct?.image) {\n      images.push(currentProduct.image);\n    }\n    \n    // –î–æ–±–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ –ø–æ–ª—è images\n    if (Array.isArray(currentProduct?.images)) {\n      images.push(...currentProduct.images);\n    }\n    \n    // –î–æ–±–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ –ø–æ–ª—è images2\n    if (Array.isArray(currentProduct?.images2)) {\n      images.push(...currentProduct.images2);\n    }\n    \n    // –î–æ–±–∞–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ –ø–æ–ª—è images3\n    if (Array.isArray(currentProduct?.images3)) {\n      images.push(...currentProduct.images3);\n    }\n    \n    // –ï—Å–ª–∏ –µ—Å—Ç—å –≤–∞—Ä–∏–∞—Ü–∏—è —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏, –¥–æ–±–∞–≤–ª—è–µ–º –∏—Ö\n    if (selectedVariation?.images && Array.isArray(selectedVariation.images)) {\n      images.push(...selectedVariation.images);\n    }\n    \n    // –ï—Å–ª–∏ –Ω–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –¥–æ–±–∞–≤–ª—è–µ–º placeholder\n    if (images.length === 0) {\n      images.push('/images/products/placeholder.png');\n    }\n    \n    return images;\n  };\n  \n  const navigate = useNavigate();\n\n  const API_URL = 'https://electro-a8bl.onrender.com/api/products';\n\n  useEffect(() => {\n    setLoading(true);\n    setError(null);\n    \n    // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É —Ç–æ–≤–∞—Ä–∞ –≤–∞—Ä–∏–∞—Ü–∏–∏\n    fetch(`${API_URL}/${id}/with-variations`)\n      .then(res => res.json())\n      .then(data => {\n        if (data.error) {\n          // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞, –∑–∞–≥—Ä—É–∂–∞–µ–º –æ–±—ã—á–Ω—ã–π —Ç–æ–≤–∞—Ä\n          return fetch(`${API_URL}/${id}`);\n        }\n        return Promise.resolve(data);\n      })\n      .then(data => {\n        if (data.error) {\n          setError(data.error);\n          setProduct(null);\n          setProductWithVariations(null);\n        } else if (data.isVariation || data.isMasterProduct) {\n          // –¢–æ–≤–∞—Ä —Å –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏\n          setProductWithVariations(data);\n          if (data.isVariation) {\n            setProduct(data.currentVariation.productId);\n            setSelectedVariation(data.currentVariation);\n            setVariationType(data.currentVariation.variationType);\n            \n            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤–∞—Ä–∏–∞—Ü–∏–∏\n            if (data.currentVariation.variationOptions) {\n              setSelectedParameters(data.currentVariation.variationOptions);\n            }\n          } else {\n            setProduct(data.masterProduct);\n            setVariationType(data.masterProduct.variationTypes[0] || 'power');\n            // –í—ã–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—É—é –≤–∞—Ä–∏–∞—Ü–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\n            if (data.variations && data.variations.length > 0) {\n              const firstVariation = data.variations[0];\n              setSelectedVariation(firstVariation);\n              \n              // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\n              if (firstVariation.variationOptions) {\n                setSelectedParameters(firstVariation.variationOptions);\n              } else if (firstVariation.variationType && firstVariation.variationValue) {\n                setSelectedParameters({ [firstVariation.variationType]: firstVariation.variationValue });\n              }\n            }\n          }\n        } else {\n          // –û–±—ã—á–Ω—ã–π —Ç–æ–≤–∞—Ä –±–µ–∑ –≤–∞—Ä–∏–∞—Ü–∏–π\n          setProduct(data.product);\n          setProductWithVariations(null);\n        }\n        setLoading(false);\n      })\n      .catch(() => {\n        setError('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–≤–∞—Ä–∞');\n        setLoading(false);\n      });\n  }, [id]);\n\n  useEffect(() => {\n    fetch(`${API_URL}?limit=4`)\n      .then(res => res.json())\n      .then(data => {\n        if (Array.isArray(data)) setMiniProducts(data);\n      });\n  }, []);\n\n  // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å–∞–π—Ç–∞\n  useEffect(() => {\n    fetch('https://electro-a8bl.onrender.com/api/information')\n      .then(res => res.json())\n      .then(data => {\n        if (data.information) {\n          setSiteSettings(data.information);\n        }\n      })\n      .catch(error => {\n        console.log('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:', error);\n      });\n  }, []);\n  \n  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ—Ä–æ–¥ –∏–∑ localStorage –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –≥–æ—Ä–æ–¥\n  useEffect(() => {\n    const savedCity = localStorage.getItem('selectedCity');\n    \n    // –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –≥–æ—Ä–æ–¥, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ\n    if (savedCity) {\n      setSelectedCity(savedCity);\n    } else {\n      // –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞, –ø—ã—Ç–∞–µ–º—Å—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏\n      detectUserCity();\n    }\n  }, []);\n\n  if (loading) {\n    return <div style={{padding: 48, textAlign: 'center'}}>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;\n  }\n  if (error || !product) {\n    return (\n      <div className=\"product\">\n        <Header />\n        <main className=\"product-main\">\n          <div className=\"container\" style={{padding: '48px 0', textAlign: 'center'}}>\n            <h1>–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω</h1>\n            <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Å—Å—ã–ª–∫–∏ –∏–ª–∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ <a href=\"/catalog\">–∫–∞—Ç–∞–ª–æ–≥</a>.</p>\n          </div>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  // –ù–∞–π—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥–ª—è —Ö–ª–µ–±–Ω—ã—Ö –∫—Ä–æ—à–µ–∫\n  const categoryObj = categories.find(cat => cat.id === getCurrentProduct().category);\n  const categoryName = categoryObj ? categoryObj.name : '';\n\n  // –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å –≤ product, –∏–Ω–∞—á–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ\n  const productAdvantages = getCurrentProduct().advantages || [\n    '–í—ã—Å–æ–∫–∏–π –∫—Ä—É—Ç—è—â–∏–π –º–æ–º–µ–Ω—Ç –∏ –º–æ—â–Ω–æ—Å—Ç—å',\n    '–î–æ–ª–≥–æ–≤–µ—á–Ω—ã–π –ª–∏—Ç–∏–π-–∏–æ–Ω–Ω—ã–π –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä',\n    '–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ –ª—ë–≥–∫–∏–π –∫–æ—Ä–ø—É—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã –æ–¥–Ω–æ–π —Ä—É–∫–æ–π'\n  ];\n\n  const handleOpenModal = () => setIsModalOpen(true);\n  const handleCloseModal = () => setIsModalOpen(false);\n  const handleSubmitForm = (formData) => {\n    console.log('–ó–∞—è–≤–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä:', { ...formData, product: getCurrentProduct().name });\n    alert('–°–ø–∞—Å–∏–±–æ! –í–∞—à–∞ –∑–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.');\n  };\n\n  const handleBuy = () => {\n    // –ï—Å–ª–∏ –µ—Å—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–∞—è –≤–∞—Ä–∏–∞—Ü–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë –¥–∞–Ω–Ω—ã–µ\n    const productToBuy = selectedVariation ? selectedVariation.productId : product;\n    navigate('/checkout', { state: { product: productToBuy } });\n  };\n\n  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –≤–∞—Ä–∏–∞—Ü–∏–∏\n  const handleVariationSelect = (variation) => {\n    setSelectedVariation(variation);\n    setProduct(variation.productId);\n  };\n\n  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞\n  const handleParameterSelect = (parameter, value) => {\n    const newSelectedParams = { ...selectedParameters, [parameter]: value };\n    setSelectedParameters(newSelectedParams);\n    \n    // –ù–∞—Ö–æ–¥–∏–º –≤–∞—Ä–∏–∞—Ü–∏—é –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º\n    const variation = getVariationByParameters(newSelectedParams);\n    if (variation) {\n      setSelectedVariation(variation);\n      setProduct(variation.productId);\n    }\n  };\n\n  // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞—Ä–∏–∞—Ü–∏–π\n  const getAvailableVariations = () => {\n    if (!productWithVariations) return [];\n    \n    if (productWithVariations.isVariation) {\n      return productWithVariations.variations || [];\n    } else if (productWithVariations.isMasterProduct) {\n      return productWithVariations.variations || [];\n    }\n    \n    return [];\n  };\n\n  // –ü–æ–ª—É—á–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–∞—Ä–∏–∞—Ü–∏–π\n  const getVariationParameters = () => {\n    const variations = getAvailableVariations();\n    if (variations.length === 0) return [];\n\n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≤–∞—Ä–∏–∞—Ü–∏–∏ —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏\n    const hasCustomOptions = variations.some(v => v.variationOptions && Object.keys(v.variationOptions).length > 0);\n    \n    if (hasCustomOptions) {\n      // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ variationOptions\n      const allParams = new Set();\n      variations.forEach(v => {\n        if (v.variationOptions) {\n          Object.keys(v.variationOptions).forEach(param => allParams.add(param));\n        }\n      });\n      return Array.from(allParams);\n    } else {\n      // –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± - –æ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä\n      return [variationType];\n    }\n  };\n\n  // –ü–æ–ª—É—á–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞\n  const getParameterValues = (parameter) => {\n    const variations = getAvailableVariations();\n    const values = new Set();\n    \n    variations.forEach(v => {\n      if (v.variationOptions && v.variationOptions[parameter]) {\n        values.add(v.variationOptions[parameter]);\n      } else if (parameter === variationType && v.variationValue) {\n        values.add(v.variationValue);\n      }\n    });\n    \n    return Array.from(values);\n  };\n\n  // –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∞—Ä–∏–∞—Ü–∏–∏ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º\n  const getVariationByParameters = (selectedParams) => {\n    const variations = getAvailableVariations();\n    \n    return variations.find(v => {\n      if (v.variationOptions && Object.keys(v.variationOptions).length > 0) {\n        // –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± - –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\n        return Object.keys(selectedParams).every(param => \n          v.variationOptions[param] === selectedParams[param]\n        );\n      } else {\n        // –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± - –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ variationType\n        const paramValue = selectedParams[variationType];\n        return v.variationType === variationType && v.variationValue === paramValue;\n      }\n    });\n  };\n\n  // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ç–æ–≤–∞—Ä–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è\n  const getCurrentProduct = () => {\n    if (selectedVariation) {\n      return selectedVariation.productId;\n    }\n    return product;\n  };\n\n  // –ú–æ–¥–∞–ª–∫–∞ —Ñ–æ—Ç–æ\n  const handleImageClick = () => setShowImageModal(true);\n  const handleCloseImageModal = () => setShowImageModal(false);\n  const handlePrevImage = (e) => {\n    e.stopPropagation();\n    setActiveImage((prev) => (prev - 1 + getAllImages().length) % getAllImages().length);\n  };\n  const handleNextImage = (e) => {\n    e.stopPropagation();\n    setActiveImage((prev) => (prev + 1) % getAllImages().length);\n  };\n  \n  const handleCityChange = (e) => {\n    const newCity = e.target.value;\n    setIsCityChanging(true);\n    setSelectedCity(newCity);\n    localStorage.setItem('selectedCity', newCity);\n    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–æ—Å—Ç–∞–≤–∫—É –ø—Ä–∏ —Å–º–µ–Ω–µ –≥–æ—Ä–æ–¥–∞\n    setSelectedDelivery(null);\n    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–æ—Å—Ç–∞–≤–∫–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ –≥–æ—Ä–æ–¥–∞\n    fetchDeliveryInfo(newCity);\n    \n    // –£–±–∏—Ä–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é —á–µ—Ä–µ–∑ 500–º—Å\n    setTimeout(() => {\n      setIsCityChanging(false);\n    }, 500);\n  };\n\n  const fetchDeliveryInfo = async (cityName) => {\n    try {\n      const response = await fetch(`https://electro-a8bl.onrender.com/api/pickup-points/delivery/${encodeURIComponent(cityName)}`);\n      if (response.ok) {\n        const data = await response.json();\n        setDeliveryInfo(data);\n      }\n    } catch (error) {\n      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ—Å—Ç–∞–≤–∫–µ:', error);\n    }\n  };\n  \n\n\n  const shortDesc = getCurrentProduct()['Short description'] || '–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ';\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n  const getOptimalImage = (product, preferredSize = 'medium') => {\n    if (product.imageVariants && product.imageVariants[preferredSize]) {\n      return product.imageVariants[preferredSize];\n    }\n    if (product.imageVariants && product.imageVariants.webp) {\n      return product.imageVariants.webp;\n    }\n    return product.image || '/images/products/placeholder.png';\n  };\n\n  return (\n    <div className=\"product-page\">\n      <Header />\n      <main className=\"product-main\">\n        <div className=\"product-container\">\n          <nav className=\"breadcrumbs\" style={{paddingBottom: '18px', display: 'flex', alignItems: 'center', flexWrap: 'wrap', gap: '8px'}}>\n            <a href=\"/\">–ì–ª–∞–≤–Ω–∞—è</a>\n            <span style={{margin: '0 8px', color: '#bdbdbd', fontSize: '18px'}}>&rarr;</span>\n            <a href=\"/catalog\">–ö–∞—Ç–∞–ª–æ–≥</a>\n            {categoryName && (\n              <>\n                <span style={{margin: '0 8px', color: '#bdbdbd', fontSize: '18px'}}>&rarr;</span>\n                <a href={`/catalog?category=${getCurrentProduct().category}`}>{categoryName}</a>\n              </>\n            )}\n            <span style={{margin: '0 8px', color: '#bdbdbd', fontSize: '18px'}}>&rarr;</span>\n            <span style={{color:'#1a2236', fontWeight:500}}>{getCurrentProduct().name}</span>\n          </nav>\n          <div className=\"product-flex\">\n            {/* –§–æ—Ç–æ –∏ –º–∏–Ω–∏–∞—Ç—é—Ä—ã */}\n            <div className=\"product-gallery\">\n              <div className=\"product-gallery-inner\">\n                <div className=\"product-image-main\" onClick={handleImageClick} style={{cursor:'zoom-in'}}>\n                  <img \n                    src={getCurrentProduct().image || getAllImages()[activeImage]} \n                    alt={getCurrentProduct().name} \n                    loading=\"lazy\"\n                    width=\"400\"\n                    height=\"400\"\n                    style={{width: '100%', height: 'auto', maxWidth: '400px'}}\n                  />\n                </div>\n                {getAllImages().length > 1 && (\n                  <>\n                    <div style={{textAlign:'center', color:'#888', fontSize:'1.05rem', marginTop: 20, marginBottom: 8, border:'none'}}>\n                      –ß—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏—Ç—å, –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É\n                    </div>\n                    <div className=\"product-thumbs\">\n                      {getAllImages().map((img, idx) => (\n                        <img \n                          key={idx} \n                          src={img} \n                          alt={getCurrentProduct().name + idx} \n                          className={activeImage === idx ? \"active\" : \"\"} \n                          onClick={() => setActiveImage(idx)} \n                          loading=\"lazy\"\n                          width=\"80\"\n                          height=\"80\"\n                        />\n                      ))}\n                    </div>\n                  </>\n                )}\n              </div>\n            </div>\n            {/* –ò–Ω—Ñ–æ –∏ —Ü–µ–Ω–∞ —Å–ø—Ä–∞–≤–∞ */}\n            <div className=\"product-info-block\">\n              <>\n                <h1 className=\"product-title\" style={{fontWeight: 700, fontSize: '1.4rem', maxWidth: 320, marginBottom: 6, wordBreak: 'break-word', marginTop: 28, lineHeight: 1.2}}>{getCurrentProduct().name}</h1>\n                \n                {/* –°–µ–ª–µ–∫—Ç–æ—Ä –≤–∞—Ä–∏–∞—Ü–∏–π */}\n                {productWithVariations && getAvailableVariations().length > 0 && (\n                  <div className=\"product-variations\" style={{marginBottom: 15}}>\n                    {getVariationParameters().map((parameter) => (\n                      <div key={parameter} style={{marginBottom: 15}}>\n                        <div style={{fontSize: '0.9rem', color: '#666', marginBottom: 8, fontWeight: 500}}>\n                          {parameter}:\n                        </div>\n                        <div className=\"variations-list\" style={{display: 'flex', gap: 8, flexWrap: 'wrap'}}>\n                          {getParameterValues(parameter).map((value) => (\n                            <button\n                              key={value}\n                              onClick={() => handleParameterSelect(parameter, value)}\n                              className={`variation-option ${selectedParameters[parameter] === value ? 'selected' : ''}`}\n                              style={{\n                                padding: '8px 16px',\n                                border: selectedParameters[parameter] === value ? '2px solid #1976d2' : '1px solid #ddd',\n                                borderRadius: '6px',\n                                background: selectedParameters[parameter] === value ? '#e3f2fd' : '#fff',\n                                color: selectedParameters[parameter] === value ? '#1976d2' : '#333',\n                                cursor: 'pointer',\n                                fontSize: '14px',\n                                fontWeight: selectedParameters[parameter] === value ? '600' : '400',\n                                transition: 'all 0.2s ease'\n                              }}\n                            >\n                              {value}\n                            </button>\n                          ))}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n                \n                <div className=\"product-short-desc\" style={{fontSize: '1rem', color: '#222', marginBottom: 8, fontWeight: 500, marginTop: 0, lineHeight: 1.3}}>{shortDesc}</div>\n                <div className=\"product-subtitle\" style={{width: '100%', maxWidth: 'none'}}>{getCurrentProduct().subtitle}</div>\n                <div className=\"product-divider\"></div>\n                <div className=\"product-buy-row\">\n                  <div className=\"product-price-block\">\n                    <div className=\"product-price-label-value\">\n                      <div className=\"product-price-label\">–¶–µ–Ω–∞</div>\n                      <div className=\"product-price-value\">\n                        {Number(selectedVariation ? selectedVariation.price : product.price).toLocaleString('ru-RU')}\n                        <span className=\"product-currency\">‚Ç∏</span>\n                      </div>\n                    </div>\n\n                    {(selectedVariation ? selectedVariation.article : product.article) && (\n                      <div style={{\n                        fontSize: '0.85rem', \n                        color: '#666', \n                        marginTop: 6, \n                        textAlign: 'left',\n                        wordBreak: 'break-word',\n                        width: '140px',\n                        minWidth: '140px',\n                        display: 'flex',\n                        flexDirection: 'column',\n                        alignItems: 'flex-start'\n                      }}>\n                        <span style={{fontWeight: 500, color: '#495057'}}>–ê—Ä—Ç–∏–∫—É–ª</span>\n                        <span style={{marginTop: 2}}>{selectedVariation ? selectedVariation.article : product.article}</span>\n                      </div>\n                    )}\n                  </div>\n                  <span className=\"product-price-divider\"></span>\n                  <div className=\"product-buy-btns\">\n                    <button className=\"product-btn-ask\" onClick={handleOpenModal}>–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å</button>\n                    <div className=\"product-btns-divider\"></div>\n                    <button className=\"product-btn-buy\" onClick={handleBuy}>–ö—É–ø–∏—Ç—å</button>\n                  </div>\n                </div>\n                <div className=\"product-divider\"></div>\n                <div style={{\n                  marginTop: 14, \n                  background: '#f5f7fa', \n                  borderRadius: 10, \n                  padding: '10px 12px 8px 12px', \n                  fontSize: '0.98rem', \n                  color: '#222', \n                  boxShadow: 'none', \n                  maxWidth: 320,\n                  transition: 'all 0.3s ease',\n                  transform: isCityChanging ? 'scale(0.98)' : 'scale(1)',\n                  opacity: isCityChanging ? 0.8 : 1\n                }}>\n                  <div style={{fontWeight: 600, color: '#1e88e5', marginBottom: 8, fontSize: '1.01rem', display: 'flex', alignItems: 'center', gap: '8px'}}>\n                    <span>–í–∞—à –≥–æ—Ä–æ–¥:</span>\n                    {detectingCity ? (\n                      <span style={{color: '#666', fontSize: '0.9rem'}}>üìç –û–ø—Ä–µ–¥–µ–ª—è–µ–º...</span>\n                    ) : (\n                      <select \n                        value={selectedCity} \n                        onChange={handleCityChange}\n                        className=\"city-select\"\n                      >\n                        {cities.map(city => (\n                          <option key={city} value={city}>{city}</option>\n                        ))}\n                      </select>\n                    )}\n                  </div>\n                  \n                  {/* –ó–∞–º–µ–Ω—è–µ–º —Å—Ç–∞—Ç–∏—á–Ω—ã–π –±–ª–æ–∫ –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç */}\n                  <DeliveryInfo \n                    city={selectedCity} \n                    onDeliverySelect={setSelectedDelivery}\n                    compact={true}\n                    selectedDelivery={selectedDelivery}\n                  />\n                  \n                  <div style={{background:'#f0f1f4', borderRadius:7, padding:'7px 10px', marginTop:8, color:'#222', fontSize:'0.93rem', display:'flex', alignItems:'center', gap:6}}>\n                    <span style={{fontSize:15, color:'#888'}}>‚ìò</span>\n                    <span>\n                      {selectedCity === '–ê–ª–º–∞—Ç—ã' \n                        ? '–°—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –ø–æ—Å–ª–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞'\n                        : selectedDelivery \n                          ? `–î–æ—Å—Ç–∞–≤–∫–∞ –≤ ${selectedCity} —á–µ—Ä–µ–∑ ${selectedDelivery.name.toLowerCase()}. ${selectedDelivery.type === 'pickup' ? '–°–∞–º–æ–≤—ã–≤–æ–∑ –∏–∑ –Ω–∞—à–∏—Ö –ø—É–Ω–∫—Ç–æ–≤' : selectedDelivery.type === 'indriver' ? '–í —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è' : selectedDelivery.type === 'yandex' ? '1-2 –¥–Ω—è' : selectedDelivery.type === 'kazpost' ? '3-5 –¥–Ω–µ–π' : selectedDelivery.type === 'cdek' ? '1-2 –¥–Ω—è' : selectedDelivery.type === 'air' ? '1-3 –¥–Ω—è' : '1-3 –¥–Ω—è'}.`\n                          : `–î–æ—Å—Ç–∞–≤–∫–∞ –≤ ${selectedCity} –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫—É—Ä—å–µ—Ä—Å–∫–∏–µ —Å–ª—É–∂–±—ã. –°—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ 1-3 –¥–Ω—è.`\n                      }\n                    </span>\n                  </div>\n                </div>\n              </>\n            </div>\n          </div>\n          {/* –í–∫–ª–∞–¥–∫–∏ —Å–Ω–∏–∑—É */}\n          <div className=\"product-tabs-wrap\">\n                            <Tabs product={getCurrentProduct()} selectedVariation={selectedVariation} />\n                </div>\n            </div>\n      </main>\n      {/* –ú–∏–Ω–∏-–∫–∞—Ç–∞–ª–æ–≥ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ */}\n      <section className=\"mini-catalog-section\">\n        <div className=\"mini-catalog-header\">\n          <h2>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</h2>\n        </div>\n        <div className=\"mini-catalog-slider-wrapper\">\n          <div className=\"mini-catalog-slider\">\n            {/* –ü–µ—Ä–≤—ã–π –Ω–∞–±–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ */}\n            {miniProducts.map(product => (\n              <div\n                key={`first-${product._id}`}\n                className=\"product-card catalog-mini-product-card\"\n                onClick={() => window.location.href = `/product/${product._id}`}\n                style={{ cursor: 'pointer', minHeight: 0, position: 'relative', fontFamily: 'Roboto, Arial, sans-serif', fontWeight: 400, background: '#fff', minWidth: 200, maxWidth: 220, margin: '0 4px', border: '1px solid #e3e6ea', borderRadius: 0 }}\n              >\n                <div className=\"product-image\" style={{height: '120px', padding: 0, margin: 0, background: '#fff', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n                  <picture style={{width: '100%', height: '100%'}}>\n                    <source \n                      srcSet={getOptimalImage(product, 'thumb')} \n                      type=\"image/webp\"\n                    />\n                    <img \n                      src={getOptimalImage(product, 'thumb')} \n                      alt={product.name} \n                      style={{width: '100%', height: '100%', objectFit: 'contain', display: 'block', background:'#fff'}} \n                      loading=\"lazy\"\n                      width=\"200\"\n                      height=\"120\"\n                    />\n                  </picture>\n                </div>\n                <div className=\"catalog-mini-product-divider\" style={{width:'90%',maxWidth:'200px',borderTop:'1px solid #bdbdbd',margin:'0 auto 2px auto', alignSelf:'center'}}></div>\n                <div className=\"product-info\" style={{padding: '6px 8px 8px 8px', display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 0, minHeight:60}}>\n                  <span style={{fontSize: '0.9rem', fontWeight: 500, color: '#1a2236', margin: 0, minHeight: '32px', lineHeight: 1.2, marginBottom: 4, textDecoration:'none',cursor:'pointer',display:'block', textAlign:'center', width:'100%'}}>{product.name}</span>\n                  <div style={{width:'100%', textAlign:'left', margin:'0 0 1px 0'}}>\n                    <span style={{color:'#888', fontSize:'0.8rem', fontWeight:400, letterSpacing:0.2}}>–¶–µ–Ω–∞</span>\n                  </div>\n                  <div style={{display: 'flex', alignItems: 'center', marginTop: 0, marginBottom:1, justifyContent:'flex-start', width:'100%'}}>\n                    <span className=\"product-price\" style={{color:'#FFB300',fontWeight:'bold',fontSize:'1rem',letterSpacing:0.3}}>{product.price ? product.price + ' ‚Ç∏' : ''}</span>\n                    <span style={{height:'2em',width:'1px',background:'#bdbdbd',display:'inline-block',margin:'0 0 0 5px',verticalAlign:'middle'}}></span>\n                  </div>\n                </div>\n              </div>\n            ))}\n            {/* –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫ –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */}\n            {miniProducts.map(product => (\n              <div\n                key={`second-${product._id}`}\n                className=\"product-card catalog-mini-product-card\"\n                onClick={() => window.location.href = `/product/${product._id}`}\n                style={{ cursor: 'pointer', minHeight: 0, position: 'relative', fontFamily: 'Roboto, Arial, sans-serif', fontWeight: 400, background: '#fff', minWidth: 200, maxWidth: 220, margin: '0 4px', border: '1px solid #e3e6ea', borderRadius: 0 }}\n              >\n                <div className=\"product-image\" style={{height: '120px', padding: 0, margin: 0, background: '#fff', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n                  <picture style={{width: '100%', height: '100%'}}>\n                    <source \n                      srcSet={getOptimalImage(product, 'thumb')} \n                      type=\"image/webp\"\n                    />\n                    <img \n                      src={getOptimalImage(product, 'thumb')} \n                      alt={product.name} \n                      style={{width: '100%', height: '100%', objectFit: 'contain', display: 'block', background:'#fff'}} \n                      loading=\"lazy\"\n                      width=\"200\"\n                      height=\"120\"\n                    />\n                  </picture>\n                </div>\n                <div className=\"catalog-mini-product-divider\" style={{width:'90%',maxWidth:'200px',borderTop:'1px solid #bdbdbd',margin:'0 auto 2px auto', alignSelf:'center'}}></div>\n                <div className=\"product-info\" style={{padding: '6px 8px 8px 8px', display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 0, minHeight:60}}>\n                  <span style={{fontSize: '0.9rem', fontWeight: 500, color: '#1a2236', margin: 0, minHeight: '32px', lineHeight: 1.2, marginBottom: 4, textDecoration:'none',cursor:'pointer',display:'block', textAlign:'center', width:'100%'}}>{product.name}</span>\n                  <div style={{width:'100%', textAlign:'left', margin:'0 0 1px 0'}}>\n                    <span style={{color:'#888', fontSize:'0.8rem', fontWeight:400, letterSpacing:0.2}}>–¶–µ–Ω–∞</span>\n                  </div>\n                  <div style={{display: 'flex', alignItems: 'center', marginTop: 0, marginBottom:1, justifyContent:'flex-start', width:'100%'}}>\n                    <span className=\"product-price\" style={{color:'#FFB300',fontWeight:'bold',fontSize:'1rem',letterSpacing:0.3}}>{product.price ? product.price + ' ‚Ç∏' : ''}</span>\n                    <span style={{height:'2em',width:'1px',background:'#bdbdbd',display:'inline-block',margin:'0 0 0 5px',verticalAlign:'middle'}}></span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n      <Footer />\n    <Modal isOpen={isModalOpen} onClose={handleCloseModal} onSubmit={handleSubmitForm} />\n    {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–Ω–æ–≥–æ —Ñ–æ—Ç–æ */}\n    {showImageModal && (\n      <div className=\"image-modal-overlay\" onClick={handleCloseImageModal} style={{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.55)',zIndex:1000,display:'flex',alignItems:'center',justifyContent:'center'}}>\n        <div className=\"image-modal-content\" style={{background:'#fff',padding:0,borderRadius:'8px',boxShadow:'0 8px 32px rgba(0,0,0,0.18)',position:'relative',maxWidth:'90vw',maxHeight:'90vh',display:'flex',flexDirection:'column',alignItems:'center'}} onClick={e=>e.stopPropagation()}>\n                          <img src={getAllImages()[activeImage]} alt={getCurrentProduct().name} style={{maxWidth:'80vw',maxHeight:'80vh',objectFit:'contain',background:'#fff'}} width=\"800\" height=\"600\" />\n                {getAllImages().length > 1 && (\n            <>\n              <button \n                onClick={handlePrevImage} \n                style={{\n                  position: 'absolute',\n                  left: -25,\n                  top: '50%',\n                  transform: 'translateY(-50%)',\n                  background: 'rgba(255, 255, 255, 0.95)',\n                  border: 'none',\n                  borderRadius: '50%',\n                  width: 50,\n                  height: 50,\n                  fontSize: 24,\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  boxShadow: '0 4px 12px rgba(0,0,0,0.3)',\n                  zIndex: 10,\n                  color: '#222'\n                }}\n              >\n                ‚Äπ\n              </button>\n              <button \n                onClick={handleNextImage} \n                style={{\n                  position: 'absolute',\n                  right: -25,\n                  top: '50%',\n                  transform: 'translateY(-50%)',\n                  background: 'rgba(255, 255, 255, 0.95)',\n                  border: 'none',\n                  borderRadius: '50%',\n                  width: 50,\n                  height: 50,\n                  fontSize: 24,\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  boxShadow: '0 4px 12px rgba(0,0,0,0.3)',\n                  zIndex: 10,\n                  color: '#222'\n                }}\n              >\n                ‚Ä∫\n              </button>\n              <div style={{display:'flex',justifyContent:'center',gap:8,marginTop:12}}>\n                <span style={{color:'#666', fontSize:'14px'}}>{activeImage + 1} –∏–∑ {getAllImages().length}</span>\n              </div>\n            </>\n          )}\n          <button onClick={handleCloseImageModal} style={{position:'absolute',top:8,right:12,fontSize:32,background:'none',border:'none',color:'#222',cursor:'pointer',lineHeight:1}}>&times;</button>\n        </div>\n      </div>\n    )}\n    </div>\n  );\n};\n\nfunction Tabs({product, selectedVariation}) {\n  const [tab,setTab]=React.useState('desc');\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∏–∑ —Å—Ç—Ä–æ–∫–∏\n  const parseCharacteristics = (characteristicsStr) => {\n    if (!characteristicsStr) return [];\n    \n    try {\n      // –ü—ã—Ç–∞–µ–º—Å—è —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –∫–∞–∫ JSON\n      return JSON.parse(characteristicsStr);\n    } catch {\n      // –ï—Å–ª–∏ –Ω–µ JSON, —Ä–∞–∑–±–∏–≤–∞–µ–º –ø–æ —Å—Ç—Ä–æ–∫–∞–º\n      return characteristicsStr.split('\\n').filter(line => line.trim()).map(line => {\n        const [name, value] = line.split(':').map(s => s.trim());\n        return { name, value };\n      });\n    }\n  };\n  \n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏ –∏–∑ —Å—Ç—Ä–æ–∫–∏\n  const parseEquipment = (equipmentStr) => {\n    if (!equipmentStr) return [];\n    \n    try {\n      // –ü—ã—Ç–∞–µ–º—Å—è —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –∫–∞–∫ JSON\n      return JSON.parse(equipmentStr);\n    } catch {\n      // –ï—Å–ª–∏ –Ω–µ JSON, —Ä–∞–∑–±–∏–≤–∞–µ–º –ø–æ —Å—Ç—Ä–æ–∫–∞–º –∏–ª–∏ –∑–∞–ø—è—Ç—ã–º\n      return equipmentStr.split(/[\\n,]/).filter(item => item.trim()).map(item => item.trim());\n    }\n  };\n  \n  // –ï—Å–ª–∏ –µ—Å—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–∞—è –≤–∞—Ä–∏–∞—Ü–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ—ë —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—é\n  const characteristics = parseCharacteristics(\n    selectedVariation && selectedVariation.characteristics ? selectedVariation.characteristics : product.characteristics\n  );\n  const equipment = parseEquipment(\n    selectedVariation && selectedVariation.equipment ? selectedVariation.equipment : product.equipment\n  );\n  return (\n    <div className=\"product-tabs\">\n      <div className=\"product-tabs-header\">\n        <button className={tab==='desc'?'active':''} onClick={()=>setTab('desc')}>–û–ø–∏—Å–∞–Ω–∏–µ</button>\n        <button className={tab==='specs'?'active':''} onClick={()=>setTab('specs')}>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</button>\n        <button className={tab==='equip'?'active':''} onClick={()=>setTab('equip')}>–ö–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è</button>\n      </div>\n      <div className=\"product-tabs-content\">\n        {tab==='desc' && (\n          <div className=\"product-desc-kaspi-block\">\n            {product.description ? (\n              <div dangerouslySetInnerHTML={{ __html: product.description.replace(/\\n/g, '<br/>') }} />\n            ) : (\n              <div style={{color: '#888', fontStyle: 'italic'}}>–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</div>\n            )}\n          </div>\n        )}\n        {tab==='specs' && (\n          <div className=\"product-specs-kaspi-block\">\n            <h2 className=\"product-specs-title\">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ {product.name}</h2>\n            {characteristics.length > 0 ? (\n              <div className=\"product-specs-group\">\n                <div className=\"product-specs-flex-table\">\n                  {characteristics.map((spec, i) => (\n                    <div className={\"product-specs-flex-row\" + (!spec.value ? \" no-value\" : \"\")} key={i}>\n                      <span className=\"product-specs-flex-name\">{spec.name}</span>\n                      <span className=\"product-specs-flex-dots\"></span>\n                      {spec.value && <span className=\"product-specs-flex-value\">{spec.value}</span>}\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ) : (\n              <div style={{color: '#888', fontStyle: 'italic', padding: '20px 0'}}>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–æ–≤–∞—Ä–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</div>\n            )}\n          </div>\n        )}\n        {tab==='equip' && (\n          <div className=\"product-desc-kaspi-block\">\n            {equipment.length > 0 ? (\n              <ul style={{margin: 0, paddingLeft: 20}}>\n                {equipment.map((item, idx) => (\n                  <li key={idx} style={{marginBottom: 8, lineHeight: 1.5}}>{item}</li>\n                ))}\n              </ul>\n            ) : (\n              <div style={{color: '#888', fontStyle: 'italic'}}>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Product; "],"names":["_ref","isOpen","onClose","onSubmit","formData","setFormData","useState","name","phone","message","errors","setErrors","isSubmitting","setIsSubmitting","handleChange","e","value","target","_jsx","className","onClick","children","_jsxs","stopPropagation","async","preventDefault","validation","trim","test","isValid","Object","keys","length","validateForm","result","Date","toLocaleString","console","log","success","error","sendToTelegram","alert","htmlFor","type","id","onChange","placeholder","rows","disabled","categories","Tabs","product","selectedVariation","tab","setTab","React","characteristics","characteristicsStr","JSON","parse","split","filter","line","map","s","parseCharacteristics","equipment","equipmentStr","item","parseEquipment","description","dangerouslySetInnerHTML","__html","replace","style","color","fontStyle","spec","i","padding","margin","paddingLeft","idx","marginBottom","lineHeight","Product","useParams","setProduct","loading","setLoading","setError","isModalOpen","setIsModalOpen","activeImage","setActiveImage","showImageModal","setShowImageModal","miniProducts","setMiniProducts","siteSettings","setSiteSettings","city","deliveryInfo","freeDelivery","freeDeliveryNote","pickupAddress","pickupInfo","deliveryNote","selectedCity","setSelectedCity","localStorage","getItem","selectedDelivery","setSelectedDelivery","setDeliveryInfo","isCityChanging","setIsCityChanging","productWithVariations","setProductWithVariations","setSelectedVariation","variationType","setVariationType","selectedParameters","setSelectedParameters","detectingCity","setDetectingCity","cities","getAllImages","images","currentProduct","getCurrentProduct","image","push","Array","isArray","images2","images3","navigate","useNavigate","API_URL","useEffect","fetch","then","res","json","data","Promise","resolve","isVariation","isMasterProduct","currentVariation","productId","variationOptions","masterProduct","variationTypes","variations","firstVariation","variationValue","catch","information","savedCity","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","response","address","detectedCity","includes","setItem","enableHighAccuracy","timeout","maximumAge","textAlign","Header","href","Footer","categoryObj","find","cat","category","categoryName","getAvailableVariations","advantages","getParameterValues","parameter","values","Set","forEach","v","add","from","getVariationByParameters","selectedParams","every","param","paramValue","handleCloseImageModal","fetchDeliveryInfo","encodeURIComponent","cityName","ok","shortDesc","getOptimalImage","preferredSize","arguments","undefined","imageVariants","webp","paddingBottom","display","alignItems","flexWrap","gap","fontSize","_Fragment","fontWeight","handleImageClick","cursor","src","alt","width","height","maxWidth","marginTop","border","img","wordBreak","getVariationParameters","some","allParams","handleParameterSelect","newSelectedParams","variation","borderRadius","background","transition","subtitle","Number","price","article","minWidth","flexDirection","handleOpenModal","handleBuy","productToBuy","state","boxShadow","transform","opacity","newCity","setTimeout","DeliveryInfo","onDeliverySelect","compact","toLowerCase","window","location","_id","minHeight","fontFamily","justifyContent","srcSet","objectFit","borderTop","alignSelf","textDecoration","letterSpacing","verticalAlign","Modal","handleCloseModal","top","left","zIndex","maxHeight","prev","right"],"sourceRoot":""}