"use strict";(self.webpackChunkelectro=self.webpackChunkelectro||[]).push([[508],{508:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var n=o(555),r=o(43),i=o(924),a=o(579);const l="https://electro-1-vjdu.onrender.com/api/products";const d=function(e){let{onLogout:t}=e;const[o,d]=(0,r.useState)([]),[s,c]=(0,r.useState)(!0),[p,x]=(0,r.useState)(""),[h,g]=(0,r.useState)([]),[f,u]=(0,r.useState)([]),[m,y]=(0,r.useState)("rental");(0,r.useEffect)(()=>{b()},[]),(0,r.useEffect)(()=>{const e=o.filter(e=>e.rentalAvailable),t=o.filter(e=>!e.rentalAvailable&&!1!==e.saleAvailable);g(e),u(t)},[o]);const b=async()=>{c(!0);try{const e=await fetch("https://electro-1-vjdu.onrender.com/api/admin/products"),t=await e.json();d(t)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432:",e)}c(!1)},j=h.filter(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase())}),v=f.filter(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase())});return(0,a.jsxs)("div",{style:{padding:"20px",maxWidth:"1400px",margin:"0 auto"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:[(0,a.jsx)("h1",{style:{margin:0,fontSize:"28px",fontWeight:"700"},children:"\ud83c\udfe0 \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u0440\u0435\u043d\u0434\u043e\u0439"}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,a.jsx)(i.N_,{to:"/admin/products",style:{textDecoration:"none",color:"#1e88e5",fontWeight:"500"},children:"\u2190 \u041a \u0442\u043e\u0432\u0430\u0440\u0430\u043c"}),(0,a.jsx)(i.N_,{to:"/admin/orders",style:{textDecoration:"none",color:"#1e88e5",fontWeight:"500"},children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),(0,a.jsx)(i.N_,{to:"/admin/variations",style:{textDecoration:"none",color:"#1e88e5",fontWeight:"500"},children:"\u0412\u0430\u0440\u0438\u0430\u0446\u0438\u0438"}),(0,a.jsx)(i.N_,{to:"/admin/settings",style:{textDecoration:"none",color:"#1e88e5",fontWeight:"500"},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,a.jsx)("button",{onClick:t,style:{padding:"8px 16px",background:"#dc3545",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"\u0412\u044b\u0439\u0442\u0438"})]})]}),(0,a.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u0430...",value:p,onChange:e=>x(e.target.value),style:{width:"100%",padding:"12px",marginBottom:"20px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px"}}),(0,a.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",borderBottom:"2px solid #e9ecef"},children:[(0,a.jsxs)("button",{onClick:()=>y("rental"),style:{padding:"12px 24px",background:"rental"===m?"#fff":"transparent",color:"rental"===m?"#1e88e5":"#666",border:"none",borderBottom:"rental"===m?"3px solid #1e88e5":"none",cursor:"pointer",fontWeight:"600",fontSize:"15px"},children:["\u0412 \u0430\u0440\u0435\u043d\u0434\u0435 (",h.length,")"]}),(0,a.jsxs)("button",{onClick:()=>y("available"),style:{padding:"12px 24px",background:"available"===m?"#fff":"transparent",color:"available"===m?"#1e88e5":"#666",border:"none",borderBottom:"available"===m?"3px solid #1e88e5":"none",cursor:"pointer",fontWeight:"600",fontSize:"15px"},children:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f (",f.length,")"]})]}),s?(0,a.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):(0,a.jsxs)(a.Fragment,{children:["rental"===m&&(0,a.jsx)("div",{children:0===j.length?(0,a.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:"\u041d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u0430\u0440\u0435\u043d\u0434\u0435"}):(0,a.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:j.map(e=>(0,a.jsxs)("div",{style:{border:"1px solid #e9ecef",borderRadius:"8px",padding:"16px",background:"#fff"},children:[(0,a.jsx)("img",{src:e.image||"/images/products/placeholder.png",alt:e.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"12px"}}),(0,a.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:e.name}),(0,a.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"13px",color:"#666",marginBottom:"4px"},children:"\u0426\u0435\u043d\u0430 \u0430\u0440\u0435\u043d\u0434\u044b (\u20b8/\u0441\u0443\u0442\u043a\u0438):"}),(0,a.jsx)("input",{type:"number",defaultValue:e.rentalPrice||"",onBlur:t=>(async(e,t)=>{try{(await fetch("".concat(l,"/").concat(e._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,n.A)((0,n.A)({},e),{},{rentalPrice:parseFloat(t)||null}))})).ok&&b()}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",o)}})(e,t.target.value),placeholder:"\u0426\u0435\u043d\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430",style:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})]}),(0,a.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\u0423\u0431\u0440\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440 \u0438\u0437 \u0430\u0440\u0435\u043d\u0434\u044b?"))try{(await fetch("".concat(l,"/").concat(e._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,n.A)((0,n.A)({},e),{},{rentalAvailable:!1,rentalPrice:null}))})).ok&&(b(),alert("\u0422\u043e\u0432\u0430\u0440 \u0443\u0431\u0440\u0430\u043d \u0438\u0437 \u0430\u0440\u0435\u043d\u0434\u044b"))}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",t),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u0430 \u0438\u0437 \u0430\u0440\u0435\u043d\u0434\u044b")}})(e),style:{width:"100%",padding:"10px",background:"#dc3545",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},children:"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0430\u0440\u0435\u043d\u0434\u044b"})]},e._id))})}),"available"===m&&(0,a.jsx)("div",{children:0===v.length?(0,a.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:"\u0412\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b \u0443\u0436\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0430\u0440\u0435\u043d\u0434\u0443"}):(0,a.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:v.map(e=>(0,a.jsxs)("div",{style:{border:"1px solid #e9ecef",borderRadius:"8px",padding:"16px",background:"#fff"},children:[(0,a.jsx)("img",{src:e.image||"/images/products/placeholder.png",alt:e.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"6px",marginBottom:"12px"}}),(0,a.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"12px"},children:e.name}),(0,a.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("".concat(l,"/").concat(e._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,n.A)((0,n.A)({},e),{},{rentalAvailable:!0,rentalPrice:e.rentalPrice||null}))})).ok&&(b(),alert("\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0430\u0440\u0435\u043d\u0434\u0443!"))}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",t),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u0430 \u0432 \u0430\u0440\u0435\u043d\u0434\u0443")}})(e),style:{width:"100%",padding:"10px",background:"#28a745",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0430\u0440\u0435\u043d\u0434\u0443"})]},e._id))})})]})]})}}}]);
//# sourceMappingURL=508.656a0491.chunk.js.map