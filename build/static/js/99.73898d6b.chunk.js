"use strict";(self.webpackChunkelectro=self.webpackChunkelectro||[]).push([[99],{99:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});var o=i(43),r=i(721),n=i(579);const d="https://electro-a8bl.onrender.com/api/products";function l(e){var t,i,r;let{onClose:l,onSuccess:a,initialData:s}=e;const[c,p]=(0,o.useState)((null===s||void 0===s?void 0:s.name)||""),[g,h]=(0,o.useState)(void 0!==(null===s||void 0===s?void 0:s.price)?String(s.price):""),[u,f]=(0,o.useState)((null===s||void 0===s?void 0:s.category)||""),[x,b]=(0,o.useState)((null===s||void 0===s?void 0:s.article)||""),[m,y]=(0,o.useState)((null===s||void 0===s?void 0:s.image)||""),[j,v]=(0,o.useState)((null===s||void 0===s||null===(t=s.images)||void 0===t?void 0:t[0])||""),[S,k]=(0,o.useState)((null===s||void 0===s||null===(i=s.images)||void 0===i?void 0:i[1])||""),[z,w]=(0,o.useState)((null===s||void 0===s||null===(r=s.images)||void 0===r?void 0:r[2])||""),[R,C]=(0,o.useState)((null===s||void 0===s?void 0:s.description)||""),[W,B]=(0,o.useState)((null===s||void 0===s?void 0:s["Short description"])||""),[A,T]=(0,o.useState)((null===s||void 0===s?void 0:s.characteristics)||""),[$,E]=(0,o.useState)((null===s||void 0===s?void 0:s.equipment)||""),[L,N]=(0,o.useState)(!1),[_,F]=(0,o.useState)(""),[O,D]=(0,o.useState)(()=>{if(null!==s&&void 0!==s&&s.characteristics)try{const e=JSON.parse(s.characteristics);if(Array.isArray(e))return e}catch{return s.characteristics.split("\n").filter(e=>e.trim()).map(e=>{const t=e.split(":");return t.length>=2?{parameter:t[0].trim(),value:t.slice(1).join(":").trim()}:{parameter:e.trim(),value:""}})}return[{parameter:"\u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430",value:""},{parameter:"\u0422\u0438\u043f \u043f\u0430\u0442\u0440\u043e\u043d\u0430",value:""},{parameter:"\u0422\u0438\u043f \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430",value:""},{parameter:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0435\u0439 \u0440\u0430\u0431\u043e\u0442\u044b",value:""},{parameter:"\u0414\u0438\u0430\u043c\u0435\u0442\u0440 \u043f\u0430\u0442\u0440\u043e\u043d\u0430",value:""},{parameter:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u043e\u0431\u043e\u0440\u043e\u0442\u043e\u0432 \u0445\u043e\u043b\u043e\u0441\u0442\u043e\u0433\u043e \u0445\u043e\u0434\u0430",value:""},{parameter:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u0440\u0443\u0442\u044f\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442",value:""},{parameter:"\u041f\u043e\u0442\u0440\u0435\u0431\u043b\u044f\u0435\u043c\u0430\u044f \u043c\u043e\u0449\u043d\u043e\u0441\u0442\u044c",value:""},{parameter:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u0438\u0430\u043c\u0435\u0442\u0440 \u0441\u0432\u0435\u0440\u043b\u0435\u043d\u0438\u044f \u0434\u0435\u0440\u0435\u0432\u0430",value:""},{parameter:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u0438\u0430\u043c\u0435\u0442\u0440 \u0441\u0432\u0435\u0440\u043b\u0435\u043d\u0438\u044f \u043c\u0435\u0442\u0430\u043b\u043b\u0430",value:""}]}),I=async(e,t)=>{const i=Array.from(e.target.files);if(0!==i.length){N(!0),F("");try{const e=new FormData;e.append("image",i[0]);const o=await fetch("https://electro-a8bl.onrender.com/api/upload",{method:"POST",body:e});if(!o.ok){const e=await o.json();throw new Error(e.error||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u0430")}const r=await o.json();r.webp?(t(r.webp.path),setTimeout(()=>{alert(`\u2705 \u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e \u0438 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e!\n\n\ud83d\udcc1 \u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b: ${r.original.filename}\n\ud83c\udfa8 WebP: ${r.webp.filename}\n\ud83d\udccf \u0420\u0430\u0437\u043c\u0435\u0440: ${Math.round(r.original.size/1024)} KB\n\ud83d\ude80 \u042d\u043a\u043e\u043d\u043e\u043c\u0438\u044f: ~60-70% \u0440\u0430\u0437\u043c\u0435\u0440\u0430\n\nWebP URL \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043f\u043e\u043b\u0435.`)},100)):(t(r.original.path),setTimeout(()=>{alert(`\u2705 \u0424\u0430\u0439\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d!\n\nURL: ${r.original.path}`)},100))}catch(o){F("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u0430: "+o.message)}finally{N(!1),e.target.value=""}}},P=(e,t,i)=>{const o=[...O];o[e][t]=i,D(o)},U=Boolean(s&&s._id);return(0,n.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.18)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),N(!0),F("");let t=String(g).replace(",",".");if(""===t||isNaN(Number(t)))return F("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0446\u0435\u043d\u0443 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 19.65 \u0438\u043b\u0438 19,65)"),void N(!1);t=String(t);const i=[j,S,z].filter(e=>""!==e.trim());try{let e={name:c,price:t,category:u,image:m,images:i,images2:[],images3:[],description:R,"Short description":W,characteristics:O.filter(e=>e.parameter.trim()&&e.value.trim()).map(e=>`${e.parameter}: ${e.value}`).join("\n"),equipment:$,article:x};if(!(await fetch(U?`${d}/${s._id}`:d,{method:U?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error(U?"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u0430":"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u0430");N(!1),a(),l()}catch(o){F(o.message||"\u041e\u0448\u0438\u0431\u043a\u0430"),N(!1)}},style:{background:"#fff",borderRadius:10,padding:28,minWidth:700,maxWidth:1e3,boxShadow:"0 2px 16px rgba(30,40,90,0.10)",maxHeight:"90vh",overflowY:"auto",position:"relative"},children:[(0,n.jsx)("button",{type:"button",onClick:l,style:{position:"absolute",top:15,right:15,background:"none",border:"none",fontSize:24,color:"#666",cursor:"pointer",width:30,height:30,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s"},onMouseOver:e=>{e.target.style.background="#f0f0f0",e.target.style.color="#333"},onMouseOut:e=>{e.target.style.background="none",e.target.style.color="#666"},children:"\u2715"}),(0,n.jsx)("h3",{style:{marginTop:0,marginBottom:20,fontWeight:700,fontSize:22,color:"#333",paddingRight:40},children:U?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"}),(0,n.jsxs)("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:16,marginBottom:20},children:[(0,n.jsx)("h4",{style:{margin:"0 0 12px 0",fontSize:16,fontWeight:600,color:"#495057"},children:"\ud83d\udccb \u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"}),(0,n.jsxs)("div",{style:{marginBottom:12},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:500,color:"#333",fontSize:14},children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 *"}),(0,n.jsx)("input",{required:!0,value:c,onChange:e=>p(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ced4da",fontSize:14}})]}),(0,n.jsxs)("div",{style:{marginBottom:12},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:500,color:"#333",fontSize:14},children:"\u0426\u0435\u043d\u0430 *"}),(0,n.jsx)("input",{required:!0,type:"text",value:g,onChange:e=>h(e.target.value),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 19.65 \u0438\u043b\u0438 19,65",style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ced4da",fontSize:14}})]}),(0,n.jsxs)("div",{style:{marginBottom:12},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:500,color:"#333",fontSize:14},children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),(0,n.jsx)("input",{value:u,onChange:e=>f(e.target.value),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b",style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ced4da",fontSize:14}})]}),(0,n.jsxs)("div",{style:{marginBottom:0},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:500,color:"#333",fontSize:14},children:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b"}),(0,n.jsx)("input",{value:x,onChange:e=>b(e.target.value),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 119356208",style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ced4da",fontSize:14}}),(0,n.jsx)("small",{style:{color:"#6c757d",fontSize:12},children:"\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430"})]})]}),(0,n.jsxs)("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:16,marginBottom:20},children:[(0,n.jsx)("h4",{style:{margin:"0 0 12px 0",fontSize:16,fontWeight:600,color:"#495057"},children:"\ud83d\udcf8 \u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"}),(0,n.jsxs)("div",{style:{marginBottom:12},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:500,color:"#333",fontSize:14},children:"\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u0444\u043e\u0442\u043e *"}),(0,n.jsx)("input",{required:!0,value:m,onChange:e=>y(e.target.value),placeholder:"URL \u0433\u043b\u0430\u0432\u043d\u043e\u0433\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ced4da",fontSize:14}}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,marginTop:6},children:[(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>I(e,y),style:{flex:1}}),(0,n.jsx)("button",{type:"button",onClick:()=>y("/images/products/bolgarka-makita-125.jpg"),style:{background:"#28a745",color:"#fff",border:"none",borderRadius:4,padding:"8px 12px",fontSize:12,cursor:"pointer"},children:"\u041f\u0440\u0438\u043c\u0435\u0440"})]})]}),(0,n.jsxs)("div",{style:{marginBottom:12},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:500,color:"#333",fontSize:14},children:"\u0424\u043e\u0442\u043e 2"}),(0,n.jsx)("input",{value:j,onChange:e=>v(e.target.value),placeholder:"URL \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ced4da",fontSize:14}}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,marginTop:6},children:[(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>I(e,v),style:{flex:1}}),(0,n.jsx)("button",{type:"button",onClick:()=>v("/images/products/drel.jpg"),style:{background:"#28a745",color:"#fff",border:"none",borderRadius:4,padding:"8px 12px",fontSize:12,cursor:"pointer"},children:"\u041f\u0440\u0438\u043c\u0435\u0440"})]})]}),(0,n.jsxs)("div",{style:{marginBottom:12},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:500,color:"#333",fontSize:14},children:"\u0424\u043e\u0442\u043e 3"}),(0,n.jsx)("input",{value:S,onChange:e=>k(e.target.value),placeholder:"URL \u0442\u0440\u0435\u0442\u044c\u0435\u0433\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ced4da",fontSize:14}}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,marginTop:6},children:[(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>I(e,k),style:{flex:1}}),(0,n.jsx)("button",{type:"button",onClick:()=>k("/images/products/perforator-bosch-gbh.jpg"),style:{background:"#28a745",color:"#fff",border:"none",borderRadius:4,padding:"8px 12px",fontSize:12,cursor:"pointer"},children:"\u041f\u0440\u0438\u043c\u0435\u0440"})]})]}),(0,n.jsxs)("div",{style:{marginBottom:0},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:500,color:"#333",fontSize:14},children:"\u0424\u043e\u0442\u043e 4"}),(0,n.jsx)("input",{value:z,onChange:e=>w(e.target.value),placeholder:"URL \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043e\u0433\u043e \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f",style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ced4da",fontSize:14}}),(0,n.jsxs)("div",{style:{display:"flex",gap:8,marginTop:6},children:[(0,n.jsx)("input",{type:"file",accept:"image/*",onChange:e=>I(e,w),style:{flex:1}}),(0,n.jsx)("button",{type:"button",onClick:()=>w("/images/products/shurupovert-dewalt-18v.jpg"),style:{background:"#28a745",color:"#fff",border:"none",borderRadius:4,padding:"8px 12px",fontSize:12,cursor:"pointer"},children:"\u041f\u0440\u0438\u043c\u0435\u0440"})]})]})]}),(0,n.jsxs)("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:16,marginBottom:20},children:[(0,n.jsx)("h4",{style:{margin:"0 0 12px 0",fontSize:16,fontWeight:600,color:"#495057"},children:"\ud83d\udcdd \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u044f"}),(0,n.jsxs)("div",{style:{marginBottom:12},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:500,color:"#333",fontSize:14},children:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,n.jsx)("textarea",{value:W,onChange:e=>B(e.target.value),placeholder:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430 (\u0434\u043e 160 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)",maxLength:160,style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ced4da",fontSize:14,minHeight:60,resize:"vertical"}}),(0,n.jsx)("small",{style:{color:"#6c757d",fontSize:12},children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})]}),(0,n.jsxs)("div",{style:{marginBottom:0},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:500,color:"#333",fontSize:14},children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,n.jsx)("textarea",{value:R,onChange:e=>C(e.target.value),placeholder:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430, \u0435\u0433\u043e \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0438 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430",style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ced4da",fontSize:14,minHeight:80,resize:"vertical"}})]})]}),(0,n.jsxs)("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:8,padding:16,marginBottom:20},children:[(0,n.jsx)("h4",{style:{margin:"0 0 12px 0",fontSize:16,fontWeight:600,color:"#495057"},children:"\u2699\ufe0f \u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438 \u0438 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u044f"}),(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,n.jsx)("label",{style:{fontWeight:500,color:"#333",fontSize:14},children:"\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),(0,n.jsx)("button",{type:"button",onClick:()=>{D([...O,{parameter:"",value:""}])},style:{background:"#28a745",color:"#fff",border:"none",borderRadius:4,padding:"6px 12px",fontSize:12,cursor:"pointer"},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),(0,n.jsx)("div",{style:{maxHeight:300,overflowY:"auto",border:"1px solid #ced4da",borderRadius:6,padding:8,background:"#fff"},children:O.map((e,t)=>(0,n.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:8,alignItems:"center"},children:[(0,n.jsx)("input",{value:e.parameter,onChange:e=>P(t,"parameter",e.target.value),placeholder:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u041a\u043e\u0434 \u0442\u043e\u0432\u0430\u0440\u0430)",style:{flex:1,padding:8,borderRadius:4,border:"1px solid #ced4da",fontSize:13}}),(0,n.jsx)("input",{value:e.value,onChange:e=>P(t,"value",e.target.value),placeholder:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 119356208)",style:{flex:1,padding:8,borderRadius:4,border:"1px solid #ced4da",fontSize:13}}),(0,n.jsx)("button",{type:"button",onClick:()=>(e=>{D(O.filter((t,i)=>i!==e))})(t),style:{background:"#dc3545",color:"#fff",border:"none",borderRadius:4,padding:"6px 8px",fontSize:12,cursor:"pointer",minWidth:30},children:"\u2715"})]},t))}),(0,n.jsx)("small",{style:{color:"#6c757d",fontSize:12,marginTop:8,display:"block"},children:'\ud83d\udca1 \u041a\u0430\u0436\u0434\u0430\u044f \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043a\u0430\u043a "\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440: \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435". \u041f\u0443\u0441\u0442\u044b\u0435 \u043f\u043e\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u044e\u0442\u0441\u044f.'})]}),(0,n.jsxs)("div",{style:{marginBottom:0},children:[(0,n.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:500,color:"#333",fontSize:14},children:"\u041a\u043e\u043c\u043f\u043b\u0435\u043a\u0442\u0430\u0446\u0438\u044f"}),(0,n.jsx)("textarea",{value:$,onChange:e=>E(e.target.value),placeholder:"\u2022 \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\n\u2022 \u0417\u0430\u0449\u0438\u0442\u043d\u044b\u0439 \u043a\u043e\u0436\u0443\u0445\n\u2022 \u041a\u043b\u044e\u0447 \u0434\u043b\u044f \u0437\u0430\u043c\u0435\u043d\u044b \u0434\u0438\u0441\u043a\u0430\n\u2022 \u0418\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f \u043f\u043e \u044d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u0438",style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ced4da",fontSize:14,minHeight:80,resize:"vertical"}}),(0,n.jsx)("small",{style:{color:"#6c757d",fontSize:12},children:"\u0427\u0442\u043e \u0432\u0445\u043e\u0434\u0438\u0442 \u0432 \u043a\u043e\u043c\u043f\u043b\u0435\u043a\u0442 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438"})]})]}),_&&(0,n.jsx)("div",{style:{color:"#dc3545",marginBottom:16,padding:12,background:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:6},children:_}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:12},children:[(0,n.jsx)("button",{type:"button",onClick:l,style:{background:"#6c757d",color:"#fff",border:"none",borderRadius:6,padding:"10px 20px",fontWeight:500,cursor:"pointer",fontSize:14},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,n.jsx)("button",{type:"submit",disabled:L,style:{background:"#FF6B00",color:"#fff",border:"none",borderRadius:6,padding:"10px 20px",fontWeight:600,cursor:"pointer",fontSize:14},children:L?U?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435...":U?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"})]})]})})}const a=e=>{let{onLogout:t}=e;const[i,a]=(0,o.useState)([]),[s,c]=(0,o.useState)(!0),[p,g]=(0,o.useState)(""),[h,u]=(0,o.useState)(!1),[f,x]=(0,o.useState)(null),[b,m]=(0,o.useState)([]),[y,j]=(0,o.useState)(!1),v=(0,r.Zp)(),S=()=>{c(!0),fetch(d).then(e=>e.json()).then(e=>{a(Array.isArray(e)?e:[]),c(!1)}).catch(()=>{g("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),c(!1)})};(0,o.useEffect)(()=>{S()},[]);return(0,o.useEffect)(()=>{m([]),j(!1)},[i]),(0,n.jsxs)("div",{className:"admin-container",style:{minHeight:"100vh",background:"#f5f7fa",padding:"32px 0"},children:[(0,n.jsxs)("div",{style:{maxWidth:1100,margin:"0 auto",background:"#fff",borderRadius:10,border:"1.5px solid #e0e0e0",padding:24},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:18},children:[(0,n.jsx)("h2",{className:"admin-header",style:{fontWeight:700,fontSize:24,color:"#1a2236",margin:0},children:"\u0422\u043e\u0432\u0430\u0440\u044b"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:()=>{u(!0),x(null)},style:{background:"#FF6B00",color:"#fff",fontWeight:600,fontSize:15,border:"none",borderRadius:7,padding:"8px 18px",marginRight:12,cursor:"pointer"},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"}),b.length>0&&(0,n.jsxs)("button",{onClick:async()=>{if(0===b.length)return void alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u043e\u0432\u0430\u0440\u044b \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f");const e=1===b.length?"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440?":`\u0423\u0434\u0430\u043b\u0438\u0442\u044c ${b.length} \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432?`;if(window.confirm(e))try{const e=b.map(e=>fetch(`${d}/${e}`,{method:"DELETE"}));await Promise.all(e),m([]),j(!1),S(),alert(`\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e ${b.length} \u0442\u043e\u0432\u0430\u0440\u043e\u0432`)}catch(t){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432")}},style:{background:"#dc3545",color:"#fff",fontWeight:600,fontSize:15,border:"none",borderRadius:7,padding:"8px 18px",marginRight:12,cursor:"pointer"},children:["\ud83d\uddd1\ufe0f \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 (",b.length,")"]}),(0,n.jsx)("button",{onClick:()=>v("/admin/settings"),style:{background:"#1e88e5",color:"#fff",fontWeight:600,fontSize:15,border:"none",borderRadius:7,padding:"8px 18px",marginRight:12,cursor:"pointer"},children:"\u2699\ufe0f \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,n.jsx)("button",{onClick:()=>v("/admin/pickup-points"),style:{background:"#28a745",color:"#fff",fontWeight:600,fontSize:15,border:"none",borderRadius:7,padding:"8px 18px",marginRight:12,cursor:"pointer"},children:"\ud83c\udfec \u041f\u0443\u043d\u043a\u0442\u044b \u0441\u0430\u043c\u043e\u0432\u044b\u0432\u043e\u0437\u0430"}),(0,n.jsx)("button",{onClick:t,style:{background:"#e53935",color:"#fff",fontWeight:600,fontSize:15,border:"none",borderRadius:7,padding:"8px 18px",cursor:"pointer"},children:"\u0412\u044b\u0439\u0442\u0438"})]})]}),b.length>0&&(0,n.jsxs)("div",{style:{background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"6px",padding:"12px 16px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("span",{style:{color:"#1976d2",fontWeight:500},children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432: ",b.length," \u0438\u0437 ",i.length]}),(0,n.jsx)("button",{onClick:()=>{m([]),j(!1)},style:{background:"none",border:"1px solid #2196f3",color:"#2196f3",padding:"4px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"\u0421\u043d\u044f\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435"})]}),s?(0,n.jsx)("div",{style:{padding:32,textAlign:"center"},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):p?(0,n.jsx)("div",{style:{color:"#e53935",padding:32,textAlign:"center"},children:p}):(0,n.jsxs)("table",{className:"admin-table",style:{width:"100%",borderCollapse:"collapse",fontSize:15,background:"#fff"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{style:{background:"#f5f7fa"},children:[(0,n.jsx)("th",{style:{padding:"8px 6px",textAlign:"center",fontWeight:600,color:"#222",width:"40px"},children:(0,n.jsx)("input",{type:"checkbox",checked:y,onChange:()=>{y?(m([]),j(!1)):(m(i.map(e=>e._id)),j(!0))},style:{width:"16px",height:"16px",cursor:"pointer"}})}),(0,n.jsx)("th",{style:{padding:"8px 6px",textAlign:"left",fontWeight:600,color:"#222"},children:"\u0424\u043e\u0442\u043e"}),(0,n.jsx)("th",{style:{padding:"8px 6px",textAlign:"left",fontWeight:600,color:"#222"},children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,n.jsx)("th",{style:{padding:"8px 6px",textAlign:"left",fontWeight:600,color:"#222"},children:"\u0426\u0435\u043d\u0430"}),(0,n.jsx)("th",{style:{padding:"8px 6px",textAlign:"left",fontWeight:600,color:"#222"},children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),(0,n.jsx)("th",{style:{padding:"8px 6px",textAlign:"left",fontWeight:600,color:"#222"},children:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,n.jsx)("th",{style:{padding:"8px 6px",textAlign:"center",fontWeight:600,color:"#222"},children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,n.jsx)("tbody",{children:i.map(e=>(0,n.jsxs)("tr",{style:{borderBottom:"1px solid #e0e0e0",backgroundColor:b.includes(e._id)?"#f8f9fa":"transparent"},children:[(0,n.jsx)("td",{style:{padding:"6px 6px",textAlign:"center"},children:(0,n.jsx)("input",{type:"checkbox",checked:b.includes(e._id),onChange:()=>{return t=e._id,void m(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},style:{width:"16px",height:"16px",cursor:"pointer"}})}),(0,n.jsx)("td",{style:{padding:"6px 6px"},children:(0,n.jsx)("img",{src:e.image||"/images/products/placeholder.png",alt:e.name,style:{width:44,height:44,objectFit:"contain",borderRadius:5,background:"#f5f7fa",border:"1px solid #e0e0e0"}})}),(0,n.jsx)("td",{style:{padding:"6px 6px",fontWeight:500,color:"#1a2236"},children:e.name}),(0,n.jsx)("td",{style:{padding:"6px 6px",color:"#FFB300",fontWeight:700},children:e.price?String(e.price).replace(".",",")+" \u20b8":""}),(0,n.jsx)("td",{style:{padding:"6px 6px",color:"#222"},children:e.category||"-"}),(0,n.jsx)("td",{style:{padding:"6px 6px",color:"#888",fontSize:13},children:e["Short description"]||""}),(0,n.jsx)("td",{style:{padding:"6px 6px",textAlign:"center"},children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[(0,n.jsx)("button",{onClick:()=>(e=>{x(e),u(!0)})(e),style:{background:"#1e88e5",color:"#fff",border:"none",borderRadius:6,padding:"6px 14px",fontWeight:500,cursor:"pointer",width:"100%"},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),(0,n.jsx)("button",{onClick:()=>(async e=>{if(window.confirm(`\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440 "${e.name}"?`))try{const t={...e};if(delete t._id,t.name=t.name+" (\u043a\u043e\u043f\u0438\u044f)",!(await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u0430");S(),alert("\u0422\u043e\u0432\u0430\u0440 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d!")}catch(t){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u0430: "+t.message)}})(e),style:{background:"#28a745",color:"#fff",border:"none",borderRadius:6,padding:"6px 14px",fontWeight:500,cursor:"pointer",width:"100%"},children:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),(0,n.jsx)("button",{onClick:()=>(async e=>{if(window.confirm(`\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 \xab${e.name}\xbb?`))try{if(!(await fetch(`${d}/${e._id}`,{method:"DELETE"})).ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u0430");S()}catch(t){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u0430")}})(e),style:{background:"#e53935",color:"#fff",border:"none",borderRadius:6,padding:"6px 14px",fontWeight:500,cursor:"pointer",width:"100%"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})]},e._id))})]})]}),h&&(0,n.jsx)(l,{onClose:()=>{u(!1),x(null)},onSuccess:S,initialData:f})]})}}}]);
//# sourceMappingURL=99.73898d6b.chunk.js.map