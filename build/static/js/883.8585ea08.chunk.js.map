{"version":3,"file":"static/js/883.8585ea08.chunk.js","mappings":"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","sources":["admin/Orders.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Orders = ({ onLogout }) => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [updatingStatus, setUpdatingStatus] = useState(null);\r\n  const [selectedOrder, setSelectedOrder] = useState(null);\r\n  const [showOrderDetails, setShowOrderDetails] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Маппинг статусов на русские названия\r\n  const statusLabels = {\r\n    'new': 'Новый заказ',\r\n    'confirmed': 'Оформлено',\r\n    'pending_payment': 'Ожидает оплаты',\r\n    'partially_paid': 'Частично оплачено',\r\n    'paid': 'Оплачено',\r\n    'ordered': 'Заказано у поставщика',\r\n    'processing': 'В обработке',\r\n    'assembling': 'Собирается',\r\n    'assembled': 'Собрано',\r\n    'ready_to_ship': 'Готов к отгрузке',\r\n    'shipped': 'Отправлено',\r\n    'in_transit': 'Доставляется',\r\n    'delivered': 'Доставлено',\r\n    'completed': 'Выполнено',\r\n    'cancelled': 'Отменено',\r\n    'returned': 'Возврат'\r\n  };\r\n\r\n  // Цвета для статусов\r\n  const statusColors = {\r\n    'new': '#2196F3',           // Синий\r\n    'confirmed': '#4CAF50',     // Зеленый\r\n    'pending_payment': '#FF9800', // Оранжевый\r\n    'partially_paid': '#FFC107',  // Желтый\r\n    'paid': '#4CAF50',          // Зеленый\r\n    'ordered': '#9C27B0',       // Фиолетовый\r\n    'processing': '#607D8B',    // Сине-серый\r\n    'assembling': '#795548',    // Коричневый\r\n    'assembled': '#3F51B5',     // Индиго\r\n    'ready_to_ship': '#00BCD4', // Циан\r\n    'shipped': '#009688',       // Теал\r\n    'in_transit': '#8BC34A',    // Светло-зеленый\r\n    'delivered': '#4CAF50',     // Зеленый\r\n    'completed': '#4CAF50',     // Зеленый\r\n    'cancelled': '#F44336',     // Красный\r\n    'returned': '#E91E63'       // Розовый\r\n  };\r\n\r\n  const fetchOrders = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const r = await fetch('https://electro-1-vjdu.onrender.com/api/orders');\r\n      const j = await r.json();\r\n      if (j && j.success && Array.isArray(j.orders)) {\r\n        setOrders(j.orders);\r\n      } else if (Array.isArray(j)) {\r\n        setOrders(j);\r\n      } else {\r\n        setOrders([]);\r\n      }\r\n    } catch (e) {\r\n      setError('Ошибка загрузки заказов');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateOrderStatus = async (orderId, newStatus) => {\r\n    setUpdatingStatus(orderId);\r\n    try {\r\n      const response = await fetch(`https://electro-1-vjdu.onrender.com/api/orders/${orderId}/status`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ \r\n          status: newStatus,\r\n          changedBy: 'admin'\r\n        }),\r\n      });\r\n\r\n      const result = await response.json();\r\n      \r\n      if (result.success) {\r\n        // Обновляем локальное состояние\r\n        setOrders(prevOrders => \r\n          prevOrders.map(order => \r\n            order._id === orderId \r\n              ? { ...order, status: newStatus }\r\n              : order\r\n          )\r\n        );\r\n      } else {\r\n        setError(result.error || 'Ошибка обновления статуса');\r\n      }\r\n    } catch (e) {\r\n      setError('Ошибка обновления статуса заказа');\r\n    } finally {\r\n      setUpdatingStatus(null);\r\n    }\r\n  };\r\n\r\n  const openOrderDetails = (order) => {\r\n    setSelectedOrder(order);\r\n    setShowOrderDetails(true);\r\n  };\r\n\r\n  const closeOrderDetails = () => {\r\n    setSelectedOrder(null);\r\n    setShowOrderDetails(false);\r\n  };\r\n\r\n  useEffect(() => { fetchOrders(); }, []);\r\n\r\n  return (\r\n    <div className=\"admin-container\" style={{minHeight:'100vh',background:'#f5f7fa',padding:'32px 0'}}>\r\n      <div style={{maxWidth:1100,margin:'0 auto',background:'#fff',borderRadius:10,border:'1.5px solid #e0e0e0',padding:24}}>\r\n        <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:18}}>\r\n          <h2 style={{fontWeight:700,fontSize:24,color:'#1a2236',margin:0}}>Заказы</h2>\r\n          <div className=\"admin-nav\">\r\n            <button onClick={()=>{navigate('/admin/products')}} className=\"nav-btn\" style={{background:'#FF6B00'}}>+ Добавить товар</button>\r\n            <button onClick={()=>navigate('/admin/variations')} className=\"nav-btn nav-variations\">🔄 Вариации</button>\r\n            <button onClick={()=>navigate('/admin/orders')} className=\"nav-btn\" style={{background:'#1e88e5'}}>🧾 Заказы</button>\r\n            <button onClick={()=>navigate('/admin/settings')} className=\"nav-btn nav-settings\">⚙️ Настройки</button>\r\n            <button onClick={()=>navigate('/admin/analytics')} className=\"nav-btn nav-analytics\">📊 Аналитика</button>\r\n            <button onClick={()=>navigate('/admin/pickup-points')} className=\"nav-btn nav-pickup\">🏬 Пункты самовывоза</button>\r\n            <button onClick={onLogout} className=\"nav-btn nav-logout\">Выйти</button>\r\n          </div>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div style={{padding:32,textAlign:'center'}}>Загрузка…</div>\r\n        ) : error ? (\r\n          <div style={{color:'#e53935',padding:32,textAlign:'center'}}>{error}</div>\r\n        ) : orders.length === 0 ? (\r\n          <div style={{padding:24,textAlign:'center',color:'#666'}}>Заказов пока нет</div>\r\n        ) : (\r\n          <table className=\"admin-table\" style={{width:'100%',borderCollapse:'collapse',fontSize:15,background:'#fff'}}>\r\n            <thead>\r\n              <tr style={{background:'#f5f7fa'}}>\r\n                <th style={{padding:'8px 6px',textAlign:'left'}}>Дата</th>\r\n                <th style={{padding:'8px 6px',textAlign:'left'}}>Клиент</th>\r\n                <th style={{padding:'8px 6px',textAlign:'left'}}>Телефон</th>\r\n                <th style={{padding:'8px 6px',textAlign:'left'}}>Статус</th>\r\n                <th style={{padding:'8px 6px',textAlign:'left'}}>Доставка</th>\r\n                <th style={{padding:'8px 6px',textAlign:'left'}}>Оплата</th>\r\n                <th style={{padding:'8px 6px',textAlign:'left'}}>Сумма</th>\r\n                <th style={{padding:'8px 6px',textAlign:'left'}}>Товары</th>\r\n                <th style={{padding:'8px 6px',textAlign:'left'}}>Действия</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {orders.map(o => (\r\n                <tr key={o._id} style={{borderBottom:'1px solid #e0e0e0'}}>\r\n                  <td style={{padding:'8px 6px'}}>{new Date(o.createdAt).toLocaleString('ru-RU')}</td>\r\n                  <td style={{padding:'8px 6px'}}>{o.firstName}</td>\r\n                  <td style={{padding:'8px 6px'}}>{o.phone}</td>\r\n                  <td style={{padding:'8px 6px'}}>\r\n                    <select\r\n                      value={o.status || 'new'}\r\n                      onChange={(e) => updateOrderStatus(o._id, e.target.value)}\r\n                      disabled={updatingStatus === o._id}\r\n                      style={{\r\n                        padding: '4px 8px',\r\n                        border: '1px solid #ddd',\r\n                        borderRadius: '4px',\r\n                        fontSize: '14px',\r\n                        backgroundColor: statusColors[o.status || 'new'],\r\n                        color: '#fff',\r\n                        fontWeight: '500',\r\n                        cursor: updatingStatus === o._id ? 'not-allowed' : 'pointer',\r\n                        opacity: updatingStatus === o._id ? 0.6 : 1,\r\n                        minWidth: '140px'\r\n                      }}\r\n                    >\r\n                      {Object.entries(statusLabels).map(([value, label]) => (\r\n                        <option key={value} value={value} style={{backgroundColor: '#fff', color: '#333'}}>\r\n                          {label}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                    {updatingStatus === o._id && (\r\n                      <span style={{marginLeft: '8px', fontSize: '12px', color: '#666'}}>\r\n                        Обновление...\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n                  <td style={{padding:'8px 6px'}}>{o.deliveryType === 'delivery' ? `Доставка ${o.address ? '('+o.address+')' : ''}` : 'Самовывоз'}</td>\r\n                  <td style={{padding:'8px 6px'}}>\r\n                    {o.payment === 'cash' ? 'Наличными' : 'Безналично'}\r\n                    {o.payment === 'cashless' && o.paymentMethod ? ` (${o.paymentMethod})` : ''}\r\n                  </td>\r\n                  <td style={{padding:'8px 6px',color:'#FFB300',fontWeight:700}}>{(o.total||0).toLocaleString('ru-RU')} ₸</td>\r\n                  <td style={{padding:'8px 6px'}}>\r\n                    {Array.isArray(o.items) && o.items.length > 0 ? (\r\n                      <ul style={{margin:0,paddingLeft:16}}>\r\n                        {o.items.map((it, idx) => (\r\n                          <li key={idx}>{it.productName || it.productId} ×{it.quantity || 1}</li>\r\n                        ))}\r\n                      </ul>\r\n                    ) : (\r\n                      <span style={{color:'#666'}}>—</span>\r\n                    )}\r\n                  </td>\r\n                  <td style={{padding:'8px 6px'}}>\r\n                    <button\r\n                      onClick={() => openOrderDetails(o)}\r\n                      style={{\r\n                        padding: '4px 8px',\r\n                        backgroundColor: '#1e88e5',\r\n                        color: '#fff',\r\n                        border: 'none',\r\n                        borderRadius: '4px',\r\n                        cursor: 'pointer',\r\n                        fontSize: '12px'\r\n                      }}\r\n                    >\r\n                      Детали\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n\r\n      {/* Модальное окно с деталями заказа */}\r\n      {showOrderDetails && selectedOrder && (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          zIndex: 1000\r\n        }}>\r\n          <div style={{\r\n            backgroundColor: '#fff',\r\n            borderRadius: '8px',\r\n            padding: '24px',\r\n            maxWidth: '800px',\r\n            width: '90%',\r\n            maxHeight: '90%',\r\n            overflow: 'auto'\r\n          }}>\r\n            <div style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              alignItems: 'center',\r\n              marginBottom: '20px',\r\n              borderBottom: '1px solid #e0e0e0',\r\n              paddingBottom: '16px'\r\n            }}>\r\n              <h3 style={{ margin: 0, color: '#1a2236' }}>\r\n                Заказ #{selectedOrder._id.slice(-8)}\r\n              </h3>\r\n              <button\r\n                onClick={closeOrderDetails}\r\n                style={{\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  fontSize: '24px',\r\n                  cursor: 'pointer',\r\n                  color: '#666'\r\n                }}\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px', marginBottom: '20px' }}>\r\n              <div>\r\n                <h4 style={{ margin: '0 0 8px 0', color: '#1a2236' }}>Информация о клиенте</h4>\r\n                <p><strong>Имя:</strong> {selectedOrder.firstName}</p>\r\n                <p><strong>Телефон:</strong> {selectedOrder.phone}</p>\r\n                <p><strong>Адрес:</strong> {selectedOrder.address || 'Не указан'}</p>\r\n                <p><strong>Комментарий:</strong> {selectedOrder.comment || 'Нет'}</p>\r\n              </div>\r\n              <div>\r\n                <h4 style={{ margin: '0 0 8px 0', color: '#1a2236' }}>Детали заказа</h4>\r\n                <p><strong>Дата создания:</strong> {new Date(selectedOrder.createdAt).toLocaleString('ru-RU')}</p>\r\n                <p><strong>Доставка:</strong> {selectedOrder.deliveryType === 'delivery' ? 'Доставка' : 'Самовывоз'}</p>\r\n                <p><strong>Оплата:</strong> {selectedOrder.payment === 'cash' ? 'Наличными' : 'Безналично'}</p>\r\n                <p><strong>Сумма:</strong> <span style={{ color: '#FFB300', fontWeight: 'bold' }}>\r\n                  {(selectedOrder.total || 0).toLocaleString('ru-RU')} ₸\r\n                </span></p>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <h4 style={{ margin: '0 0 8px 0', color: '#1a2236' }}>Товары</h4>\r\n              {Array.isArray(selectedOrder.items) && selectedOrder.items.length > 0 ? (\r\n                <ul style={{ margin: 0, paddingLeft: '20px' }}>\r\n                  {selectedOrder.items.map((item, idx) => (\r\n                    <li key={idx} style={{ marginBottom: '4px' }}>\r\n                      {item.productName || item.productId} × {item.quantity || 1}\r\n                      {item.price && ` - ${item.price.toLocaleString('ru-RU')} ₸`}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              ) : (\r\n                <p style={{ color: '#666' }}>Товары не указаны</p>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <h4 style={{ margin: '0 0 8px 0', color: '#1a2236' }}>История статусов</h4>\r\n              {selectedOrder.statusHistory && selectedOrder.statusHistory.length > 0 ? (\r\n                <div style={{ maxHeight: '200px', overflow: 'auto' }}>\r\n                  {selectedOrder.statusHistory.map((entry, idx) => (\r\n                    <div key={idx} style={{\r\n                      display: 'flex',\r\n                      justifyContent: 'space-between',\r\n                      alignItems: 'center',\r\n                      padding: '8px 12px',\r\n                      marginBottom: '4px',\r\n                      backgroundColor: '#f5f7fa',\r\n                      borderRadius: '4px',\r\n                      borderLeft: `4px solid ${statusColors[entry.status] || '#ccc'}`\r\n                    }}>\r\n                      <span style={{ fontWeight: '500' }}>\r\n                        {statusLabels[entry.status] || entry.status}\r\n                      </span>\r\n                      <span style={{ fontSize: '12px', color: '#666' }}>\r\n                        {new Date(entry.changedAt).toLocaleString('ru-RU')}\r\n                        {entry.changedBy && ` (${entry.changedBy})`}\r\n                      </span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <p style={{ color: '#666' }}>История статусов пуста</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n\r\n\r\n"],"names":["_ref","onLogout","orders","setOrders","useState","loading","setLoading","error","setError","updatingStatus","setUpdatingStatus","selectedOrder","setSelectedOrder","showOrderDetails","setShowOrderDetails","navigate","useNavigate","statusLabels","statusColors","useEffect","async","r","fetch","j","json","success","Array","isArray","e","fetchOrders","_jsxs","className","style","minHeight","background","padding","children","maxWidth","margin","borderRadius","border","display","justifyContent","alignItems","marginBottom","_jsx","fontWeight","fontSize","color","onClick","textAlign","length","width","borderCollapse","map","o","borderBottom","Date","createdAt","toLocaleString","firstName","phone","value","status","onChange","orderId","newStatus","response","concat","method","headers","body","JSON","stringify","changedBy","result","prevOrders","order","_id","_objectSpread","updateOrderStatus","target","disabled","backgroundColor","cursor","opacity","minWidth","Object","entries","_ref2","label","marginLeft","deliveryType","address","payment","paymentMethod","total","items","paddingLeft","it","idx","productName","productId","quantity","position","top","left","right","bottom","zIndex","maxHeight","overflow","paddingBottom","slice","closeOrderDetails","gridTemplateColumns","gap","comment","item","price","statusHistory","entry","borderLeft","changedAt"],"sourceRoot":""}