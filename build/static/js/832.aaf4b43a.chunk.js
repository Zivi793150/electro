"use strict";(self.webpackChunkelectro=self.webpackChunkelectro||[]).push([[832],{215:(e,t,r)=>{function n(e){const t=function(e){if(null==e)return 0;if("number"===typeof e){const t=e;return t<1e3&&String(t).includes(".")?Math.round(1e3*t):Math.round(t)}let t=String(e).trim();if(t=t.replace(/\s|\u00A0/g,""),/^\d{1,3}(\.\d{3})+$/.test(t))return parseInt(t.replace(/\./g,""),10);if(/^\d{1,3}(,\d{3})+$/.test(t))return parseInt(t.replace(/,/g,""),10);if(/^\d+$/.test(t))return parseInt(t,10);if(/^\d+[.,]\d+$/.test(t)){const e=parseFloat(t.replace(",","."));return e<1e3?Math.round(1e3*e):Math.round(e)}const r=t.replace(/\D/g,"");return r?parseInt(r,10):0}(e);return t.toLocaleString("ru-RU")}r.d(t,{p:()=>n})},320:(e,t,r)=>{r.d(t,{ZF:()=>s});const n=new class{constructor(){this.cache=new Map,this.defaultTTL=3e5}get(e){const t=this.cache.get(e);return t?Date.now()>t.expiry?(this.cache.delete(e),null):t.data:null}set(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultTTL;this.cache.set(e,{data:t,expiry:Date.now()+r})}clear(){this.cache.clear()}delete(e){this.cache.delete(e)}size(){return this.cache.size}},s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e5;const s="".concat(e,"_").concat(JSON.stringify(t)),i=n.get(s);if(i)return console.log("\ud83d\udce6 \u0414\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b \u0438\u0437 \u043a\u044d\u0448\u0430:",e),i;try{const i=await fetch(e,t);if(!i.ok)throw new Error("HTTP ".concat(i.status));const a=await i.json();return n.set(s,a,r),console.log("\ud83d\udcbe \u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b \u0432 \u043a\u044d\u0448:",e),a}catch(a){throw console.error("\u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:",a),a}}},413:()=>{},832:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var n=r(43),s=r(215),i=r(720),a=r(59),o=r(662),l=r(320),c=(r(413),r(924)),d=r(579);const p=()=>{const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";if(e.productGroup&&e.productGroup.coverImage)return e.productGroup.coverImage;const r=e.coverPhoto||e.image;return e.imageVariants&&e.imageVariants[t]?e.imageVariants[t]:e.imageVariants&&e.imageVariants.webp?e.imageVariants.webp:r||"/images/products/placeholder.png"},t=e=>{const t={"\u0434\u0440\u0435\u043b\u0438":"drills","\u0431\u043e\u043b\u0433\u0430\u0440\u043a\u0438":"grinders","\u0448\u0443\u0440\u0443\u043f\u043e\u0432\u0451\u0440\u0442\u044b":"screwdrivers","\u043f\u0435\u0440\u0444\u043e\u0440\u0430\u0442\u043e\u0440\u044b":"hammers","\u043b\u043e\u0431\u0437\u0438\u043a\u0438":"jigsaws","\u043b\u0430\u0437\u0435\u0440\u043d\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438":"levels","\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b":"generators","\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b \u0434\u043b\u044f \u0434\u043e\u043c\u0430":"generators","\u0434\u0438\u0437\u0435\u043b\u044c\u043d\u044b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b":"diesel-generators","\u0434\u0438\u0437\u0435\u043b\u044c\u043d\u044b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440":"diesel-generators","\u0434\u0438\u0437\u0435\u043b\u044c\u043d\u044b\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440":"diesel-generators","\u0438\u0437\u043c\u0435\u0440\u0438\u0442\u0435\u043b\u0438":"measuring","\u0434\u0440\u0435\u043b\u044c":"drills","\u0431\u043e\u043b\u0433\u0430\u0440\u043a\u0430":"grinders","\u0448\u0443\u0440\u0443\u043f\u043e\u0432\u0451\u0440\u0442":"screwdrivers","\u043f\u0435\u0440\u0444\u043e\u0440\u0430\u0442\u043e\u0440":"hammers","\u043b\u043e\u0431\u0437\u0438\u043a":"jigsaws","\u043b\u0430\u0437\u0435\u0440\u043d\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c":"levels","\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440":"generators","\u0438\u0437\u043c\u0435\u0440\u0438\u0442\u0435\u043b\u044c":"measuring"},r=e.toLowerCase().trim().replace(/\s+/g," ");if(t[r])return t[r];if(r.includes("\u0434\u0438\u0437\u0435\u043b\u044c")&&r.includes("\u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440"))return"diesel-generators";const n=Object.entries(t).sort((e,t)=>t[0].length-e[0].length);for(const[s,i]of n)if(r.includes(s))return i;return r.replace(/[^a-z0-9]/g,"-")},r=e=>{const t={drills:"\u0414\u0440\u0435\u043b\u0438",grinders:"\u0411\u043e\u043b\u0433\u0430\u0440\u043a\u0438",screwdrivers:"\u0428\u0443\u0440\u0443\u043f\u043e\u0432\u0451\u0440\u0442\u044b",hammers:"\u041f\u0435\u0440\u0444\u043e\u0440\u0430\u0442\u043e\u0440\u044b",jigsaws:"\u041b\u043e\u0431\u0437\u0438\u043a\u0438",levels:"\u041b\u0430\u0437\u0435\u0440\u043d\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438",generators:"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b","diesel-generators":"\u0414\u0438\u0437\u0435\u043b\u044c\u043d\u044b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b",measuring:"\u0418\u0437\u043c\u0435\u0440\u0438\u0442\u0435\u043b\u0438"};if(t[e])return t[e];const r=T.find(t=>t.id===e);return r?r.name:e},p=[{id:"drills",name:"\u0414\u0440\u0435\u043b\u0438"},{id:"grinders",name:"\u0411\u043e\u043b\u0433\u0430\u0440\u043a\u0438"},{id:"screwdrivers",name:"\u0428\u0443\u0440\u0443\u043f\u043e\u0432\u0451\u0440\u0442\u044b"},{id:"hammers",name:"\u041f\u0435\u0440\u0444\u043e\u0440\u0430\u0442\u043e\u0440\u044b"},{id:"jigsaws",name:"\u041b\u043e\u0431\u0437\u0438\u043a\u0438"},{id:"levels",name:"\u041b\u0430\u0437\u0435\u0440\u043d\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438"},{id:"generators",name:"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b"},{id:"diesel-generators",name:"\u0414\u0438\u0437\u0435\u043b\u044c\u043d\u044b\u0435 \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b"},{id:"measuring",name:"\u0418\u0437\u043c\u0435\u0440\u0438\u0442\u0435\u043b\u0438"}],g=(0,c.zy)();(0,n.useEffect)(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[]);const u=()=>{const e=g.pathname.split("/");return e.length>2&&"catalog"===e[1]?e[2]:null},[m,h]=(0,n.useState)(u()),[f,x]=(0,n.useState)([]),[y,b]=(0,n.useState)(!0),[w,j]=(0,n.useState)(null),[v,S]=(0,n.useState)(!1),[k,N]=(0,n.useState)(1),[E]=(0,n.useState)(24),[T,z]=(0,n.useState)([]),[C,A]=(0,n.useState)(!0);(0,n.useEffect)(()=>{const e=u();h(e)},[g.search,g.pathname]),(0,n.useEffect)(()=>{const e=e=>{e.target.closest(".category-dropdown")||S(!1)};return v&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[v]);(0,n.useEffect)(()=>{b(!0),j(null),(0,l.ZF)("https://electro-1-vjdu.onrender.com/api/products",{},6e5).then(e=>{x(e),b(!1)}).catch(e=>{j("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),b(!1)})},[]),(0,n.useEffect)(()=>{(0,o.oe)("catalog")},[]),(0,n.useEffect)(()=>{if(f.length>0){A(!0);const e=new Map;f.forEach(t=>{if(t.category){const r=t.category.trim().toLowerCase().replace(/\s+/g," "),n=t.category.trim();e.has(r)||e.set(r,n)}});const r=Array.from(e.values()).sort();if(r.length>0){const e=r.map(e=>({id:t(e),name:e}));z(e)}else z(p);A(!1)}},[f]),(0,n.useEffect)(()=>{const e=()=>{const e=document.querySelector(".catalog-products-grid"),t=document.querySelectorAll(".product-card"),r=document.querySelectorAll(".product-image"),n=document.querySelectorAll(".product-info");e&&(e.style.display="grid",e.style.gap="0",e.style.margin="0",e.style.padding="0",e.style.borderCollapse="collapse",e.style.borderSpacing="0"),t.forEach(e=>{e.style.margin="-1px",e.style.border="1px solid #e3e6ea",e.style.borderRadius="0",e.style.padding="0",e.style.background="#fff",e.style.display="flex",e.style.flexDirection="column",e.style.height="100%",e.style.position="relative",e.style.overflow="hidden",e.style.boxSizing="border-box",e.style.minHeight="auto"}),r.forEach(e=>{e.style.height="160px",e.style.padding="0",e.style.margin="0"}),n.forEach(e=>{e.style.padding="6px",e.style.minHeight="80px"})};e(),setTimeout(e,50),setTimeout(e,100),setTimeout(e,200),setTimeout(e,500),setTimeout(e,1e3);const t=()=>{setTimeout(e,100)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[f]);const L=m?f.filter(e=>{if(!e.category)return!1;return t(e.category.trim())===m}):f,I=k*E,W=I-E,D=L.slice(W,I),H=Math.ceil(L.length/E);(0,n.useEffect)(()=>{N(1)},[m]);const F=e=>{N(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,d.jsxs)("div",{className:"catalog",children:[(0,d.jsx)(i.A,{}),(0,d.jsx)("main",{className:"catalog-main",children:(0,d.jsxs)("div",{className:"container catalog-layout",children:[(0,d.jsxs)("aside",{className:"catalog-sidebar desktop-sidebar",children:[(0,d.jsx)("h3",{className:"sidebar-title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),C?(0,d.jsx)("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439..."}):(0,d.jsx)("ul",{className:"sidebar-categories",children:T.map(e=>(0,d.jsx)("li",{children:(0,d.jsx)(c.N_,{to:"/catalog/".concat(e.id),className:"sidebar-category-btn".concat(m===e.id?" active":""),style:{textDecoration:"none",color:"inherit",display:"block",width:"100%"},children:e.name})},e.id))})]}),(0,d.jsxs)("div",{className:"catalog-content",children:[(0,d.jsx)("div",{className:"category-dropdown-container mobile-dropdown",children:(0,d.jsxs)("div",{className:"category-dropdown ".concat(v?"open":""),children:[(0,d.jsxs)("button",{className:"category-dropdown-btn",onClick:()=>S(!v),disabled:C,children:[(0,d.jsx)("span",{children:C?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":"/catalog"===g.pathname?"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432":m&&r(m)||"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}),(0,d.jsx)("span",{className:"dropdown-arrow",children:"\u25bc"})]}),v&&!C&&(0,d.jsx)("div",{className:"category-dropdown-menu",children:T.map(e=>(0,d.jsx)(c.N_,{to:"/catalog/".concat(e.id),className:"category-dropdown-item".concat(m===e.id?" active":""),style:{textDecoration:"none",color:"inherit",display:"block",width:"100%"},onClick:()=>S(!1),children:e.name},e.id))})]})}),(0,d.jsx)("h1",{className:"catalog-title",style:{textAlign:"left",marginLeft:0},children:C||"/catalog"===g.pathname?"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432":m&&r(m)||"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}),y?(0,d.jsx)("div",{style:{padding:32},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):w?(0,d.jsx)("div",{style:{color:"red",padding:32},children:w}):(0,d.jsx)("div",{className:"catalog-products-grid",style:{gap:0},children:D.map(t=>(0,d.jsx)(c.N_,{to:"/product/".concat(t._id),style:{textDecoration:"none",color:"inherit"},children:(0,d.jsxs)("div",{className:"product-card kaspi-style mini-product-card",style:{cursor:"pointer",minHeight:"auto",position:"relative",fontFamily:"Roboto, Arial, sans-serif",fontWeight:400,background:"#fff",border:"1px solid #e3e6ea",margin:"-1px"},children:[(0,d.jsx)("div",{className:"product-image",style:{height:"160px",padding:0,margin:0,background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,d.jsxs)("picture",{style:{width:"100%",height:"100%"},children:[(0,d.jsx)("source",{srcSet:e(t,"webp"),type:"image/webp"}),(0,d.jsx)("img",{src:e(t,"medium"),alt:t.name,style:{width:"100%",height:"100%",objectFit:"contain",display:"block",background:"#fff"},loading:"lazy",width:"260",height:"160"})]})}),(0,d.jsx)("div",{style:{width:"90%",maxWidth:"260px",borderTop:"1px solid #bdbdbd",margin:"0 auto 12px auto",alignSelf:"center"}}),(0,d.jsxs)("div",{className:"product-info",style:{padding:"6px 8px 3px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:0,minHeight:"80px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.9rem",fontWeight:500,color:"#1a2236",margin:0,minHeight:"20px",lineHeight:1.2,marginBottom:4,textDecoration:"none",cursor:"pointer",display:"block",textAlign:"center",width:"100%"},children:t.name}),(0,d.jsx)("div",{style:{width:"100%",textAlign:"left",margin:"0 0 2px 0"},children:(0,d.jsx)("span",{style:{color:"#888",fontSize:"0.98rem",fontWeight:400,letterSpacing:.2},children:"\u0426\u0435\u043d\u0430"})}),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:0,marginBottom:2,justifyContent:"flex-start",width:"100%"},children:[(0,d.jsx)("span",{className:"product-price",style:{color:"#FFB300",fontWeight:"bold",fontSize:"1.25rem",letterSpacing:.5},children:t.price?(0,s.p)(t.price)+" \u20b8":""}),(0,d.jsx)("span",{style:{display:"inline-block",margin:"0 10px",borderLeft:"2px solid #bdbdbd",height:"1.6em"}}),(0,d.jsx)("span",{style:{marginLeft:28,background:"#f5f7fa",color:"#222",border:"1px solid #e3e6ea",fontWeight:700,fontSize:"0.85rem",padding:"4px 12px",borderRadius:12,lineHeight:1,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"})]})]})]})},t._id))}),H>1&&(0,d.jsxs)("div",{className:"pagination-container",style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"40px",marginBottom:"20px",gap:"8px"},children:[(0,d.jsx)("button",{onClick:()=>F(k-1),disabled:1===k,style:{padding:"8px 16px",border:"1px solid #e3e6ea",background:1===k?"#f5f5f5":"#fff",color:1===k?"#999":"#333",cursor:1===k?"not-allowed":"pointer",borderRadius:"4px",fontSize:"14px",fontWeight:"500"},children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),Array.from({length:H},(e,t)=>t+1).map(e=>1===e||e===H||e>=k-1&&e<=k+1?(0,d.jsx)("button",{onClick:()=>F(e),style:{padding:"8px 12px",border:"1px solid #e3e6ea",background:k===e?"#e86c0a":"#fff",color:k===e?"#fff":"#333",cursor:"pointer",borderRadius:"4px",fontSize:"14px",fontWeight:"500",minWidth:"40px"},children:e},e):e===k-2||e===k+2?(0,d.jsx)("span",{style:{padding:"8px 4px",color:"#999",fontSize:"14px"},children:"..."},e):null),(0,d.jsx)("button",{onClick:()=>F(k+1),disabled:k===H,style:{padding:"8px 16px",border:"1px solid #e3e6ea",background:k===H?"#f5f5f5":"#fff",color:k===H?"#999":"#333",cursor:k===H?"not-allowed":"pointer",borderRadius:"4px",fontSize:"14px",fontWeight:"500"},children:"\u0412\u043f\u0435\u0440\u0435\u0434 \u2192"})]})]})]})}),(0,d.jsx)(a.A,{})]})}}}]);
//# sourceMappingURL=832.aaf4b43a.chunk.js.map