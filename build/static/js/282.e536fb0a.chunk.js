"use strict";(self.webpackChunkelectro=self.webpackChunkelectro||[]).push([[282],{282:(e,t,i)=>{i.r(t),i.d(t,{default:()=>l});var n=i(43),s=i(720),o=i(59),a=i(721),r=i(579);const l=()=>{var e;const t=(0,a.zy)(),i=()=>new URLSearchParams(t.search).get("category")||"all",[l,d]=(0,n.useState)(i()),[c,p]=(0,n.useState)([]),[m,g]=(0,n.useState)(!0),[x,h]=(0,n.useState)(null),[u,f]=(0,n.useState)(!1),[y,b]=(0,n.useState)(1),[j]=(0,n.useState)(24);(0,n.useEffect)(()=>{d(i())},[t.search]),(0,n.useEffect)(()=>{const e=e=>{e.target.closest(".category-dropdown")||f(!1)};return u&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[u]);(0,n.useEffect)(()=>{g(!0),h(null),fetch("https://electro-a8bl.onrender.com/api/products").then(e=>e.json()).then(e=>{p(e),g(!1)}).catch(e=>{h("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),g(!1)})},[]),(0,n.useEffect)(()=>{const e=()=>{const e=document.querySelector(".catalog-products-grid"),t=document.querySelectorAll(".product-card"),i=document.querySelectorAll(".product-image"),n=document.querySelectorAll(".product-info");e&&(e.style.display="grid",e.style.gap="0",e.style.margin="0",e.style.padding="0",e.style.borderCollapse="collapse",e.style.borderSpacing="0"),t.forEach(e=>{e.style.margin="-1px",e.style.border="1px solid #e3e6ea",e.style.borderRadius="0",e.style.padding="0",e.style.background="#fff",e.style.display="flex",e.style.flexDirection="column",e.style.height="100%",e.style.position="relative",e.style.overflow="hidden",e.style.boxSizing="border-box",e.style.minHeight="auto"}),i.forEach(e=>{e.style.height="160px",e.style.padding="0",e.style.margin="0"}),n.forEach(e=>{e.style.padding="6px",e.style.minHeight="80px"})};e(),setTimeout(e,50),setTimeout(e,100),setTimeout(e,200),setTimeout(e,500),setTimeout(e,1e3);const t=()=>{setTimeout(e,100)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[c]);const v=[{id:"all",name:"\u0412\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b",icon:"\ud83d\udd27"},{id:"drills",name:"\u0414\u0440\u0435\u043b\u0438",icon:"\ud83d\udee0"},{id:"grinders",name:"\u0411\u043e\u043b\u0433\u0430\u0440\u043a\u0438",icon:"\ud83e\ude9a"},{id:"screwdrivers",name:"\u0428\u0443\u0440\u0443\u043f\u043e\u0432\u0451\u0440\u0442\u044b",icon:"\ud83d\udd27"},{id:"hammers",name:"\u041f\u0435\u0440\u0444\u043e\u0440\u0430\u0442\u043e\u0440\u044b",icon:"\ud83d\udd0c"},{id:"jigsaws",name:"\u041b\u043e\u0431\u0437\u0438\u043a\u0438",icon:"\ud83e\uddf0"},{id:"levels",name:"\u041b\u0430\u0437\u0435\u0440\u043d\u044b\u0435 \u0443\u0440\u043e\u0432\u043d\u0438",icon:"\ud83d\udd26"},{id:"generators",name:"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440\u044b",icon:"\ud83e\uddf2"},{id:"measuring",name:"\u0418\u0437\u043c\u0435\u0440\u0438\u0442\u0435\u043b\u0438",icon:"\ud83d\udccf"}],w="all"===l?c:c.filter(e=>e.category===l),S=y*j,k=S-j,N=w.slice(k,S),z=Math.ceil(w.length/j);(0,n.useEffect)(()=>{b(1)},[l]);const C=e=>{b(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,r.jsxs)("div",{className:"catalog",children:[(0,r.jsx)(s.A,{}),(0,r.jsx)("main",{className:"catalog-main",children:(0,r.jsxs)("div",{className:"container catalog-layout",children:[(0,r.jsxs)("aside",{className:"catalog-sidebar desktop-sidebar",children:[(0,r.jsx)("h3",{className:"sidebar-title",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),(0,r.jsx)("ul",{className:"sidebar-categories",children:v.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)("button",{className:"sidebar-category-btn"+(l===e.id?" active":""),onClick:()=>d(e.id),children:e.name})},e.id))})]}),(0,r.jsxs)("div",{className:"catalog-content",children:[(0,r.jsx)("div",{className:"category-dropdown-container mobile-dropdown",children:(0,r.jsxs)("div",{className:"category-dropdown "+(u?"open":""),children:[(0,r.jsxs)("button",{className:"category-dropdown-btn",onClick:()=>f(!u),children:[(0,r.jsx)("span",{children:(null===(e=v.find(e=>e.id===l))||void 0===e?void 0:e.name)||"\u0412\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"}),(0,r.jsx)("span",{className:"dropdown-arrow",children:"\u25bc"})]}),u&&(0,r.jsx)("div",{className:"category-dropdown-menu",children:v.map(e=>(0,r.jsx)("button",{className:"category-dropdown-item"+(l===e.id?" active":""),onClick:()=>{d(e.id),f(!1)},children:e.name},e.id))})]})}),(0,r.jsx)("h1",{className:"catalog-title",style:{textAlign:"left",marginLeft:0},children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}),m?(0,r.jsx)("div",{style:{padding:32},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):x?(0,r.jsx)("div",{style:{color:"red",padding:32},children:x}):(0,r.jsx)("div",{className:"catalog-products-grid",style:{gap:0},children:N.map(e=>(0,r.jsx)(a.N_,{to:`/product/${e._id}`,style:{textDecoration:"none",color:"inherit"},children:(0,r.jsxs)("div",{className:"product-card kaspi-style mini-product-card",style:{cursor:"pointer",minHeight:"auto",position:"relative",fontFamily:"Roboto, Arial, sans-serif",fontWeight:400,background:"#fff",border:"1px solid #e3e6ea",margin:"-1px"},children:[(0,r.jsx)("div",{className:"product-image",style:{height:"160px",padding:0,margin:0,background:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)("img",{src:e.image||"/images/products/placeholder.png",alt:e.name,style:{width:"100%",height:"100%",objectFit:"contain",display:"block",background:"#fff"},loading:"lazy"})}),(0,r.jsx)("div",{style:{width:"90%",maxWidth:"260px",borderTop:"1px solid #bdbdbd",margin:"0 auto 4px auto",alignSelf:"center"}}),(0,r.jsxs)("div",{className:"product-info",style:{padding:"6px 8px 8px 8px",display:"flex",flexDirection:"column",alignItems:"center",gap:0,minHeight:"80px"},children:[(0,r.jsx)("span",{style:{fontSize:"0.9rem",fontWeight:500,color:"#1a2236",margin:0,minHeight:"20px",lineHeight:1.2,marginBottom:4,textDecoration:"none",cursor:"pointer",display:"block",textAlign:"center",width:"100%"},children:e.name}),(0,r.jsx)("div",{style:{width:"100%",textAlign:"left",margin:"0 0 2px 0"},children:(0,r.jsx)("span",{style:{color:"#888",fontSize:"0.98rem",fontWeight:400,letterSpacing:.2},children:"\u0426\u0435\u043d\u0430"})}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:0,marginBottom:2,justifyContent:"flex-start",width:"100%"},children:[(0,r.jsx)("span",{className:"product-price",style:{color:"#FFB300",fontWeight:"bold",fontSize:"1.25rem",letterSpacing:.5},children:e.price?e.price+" \u20b8":""}),(0,r.jsx)("span",{style:{height:"2.7em",width:"1px",background:"#bdbdbd",display:"inline-block",margin:"0 0 0 7px",verticalAlign:"middle"}})]})]})]})},e._id))}),z>1&&(0,r.jsxs)("div",{className:"pagination-container",style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"40px",marginBottom:"20px",gap:"8px"},children:[(0,r.jsx)("button",{onClick:()=>C(y-1),disabled:1===y,style:{padding:"8px 16px",border:"1px solid #e3e6ea",background:1===y?"#f5f5f5":"#fff",color:1===y?"#999":"#333",cursor:1===y?"not-allowed":"pointer",borderRadius:"4px",fontSize:"14px",fontWeight:"500"},children:"\u2190 \u041d\u0430\u0437\u0430\u0434"}),Array.from({length:z},(e,t)=>t+1).map(e=>1===e||e===z||e>=y-1&&e<=y+1?(0,r.jsx)("button",{onClick:()=>C(e),style:{padding:"8px 12px",border:"1px solid #e3e6ea",background:y===e?"#e86c0a":"#fff",color:y===e?"#fff":"#333",cursor:"pointer",borderRadius:"4px",fontSize:"14px",fontWeight:"500",minWidth:"40px"},children:e},e):e===y-2||e===y+2?(0,r.jsx)("span",{style:{padding:"8px 4px",color:"#999",fontSize:"14px"},children:"..."},e):null),(0,r.jsx)("button",{onClick:()=>C(y+1),disabled:y===z,style:{padding:"8px 16px",border:"1px solid #e3e6ea",background:y===z?"#f5f5f5":"#fff",color:y===z?"#999":"#333",cursor:y===z?"not-allowed":"pointer",borderRadius:"4px",fontSize:"14px",fontWeight:"500"},children:"\u0412\u043f\u0435\u0440\u0435\u0434 \u2192"})]}),(0,r.jsxs)("section",{className:"seo-description",children:[(0,r.jsx)("h2",{children:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b: \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0438 \u043d\u0430\u0434\u0451\u0436\u043d\u043e\u0441\u0442\u044c"}),(0,r.jsx)("p",{children:"\u041c\u044b \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c \u0448\u0438\u0440\u043e\u043a\u0438\u0439 \u0430\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043e\u0442 \u0432\u0435\u0434\u0443\u0449\u0438\u0445 \u043c\u0438\u0440\u043e\u0432\u044b\u0445 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439. \u0412 \u043d\u0430\u0448\u0435\u043c \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0435 \u0432\u044b \u043d\u0430\u0439\u0434\u0451\u0442\u0435 \u0434\u0440\u0435\u043b\u0438, \u0448\u0443\u0440\u0443\u043f\u043e\u0432\u0451\u0440\u0442\u044b, \u0431\u043e\u043b\u0433\u0430\u0440\u043a\u0438, \u043f\u0435\u0440\u0444\u043e\u0440\u0430\u0442\u043e\u0440\u044b \u0438 \u043c\u043d\u043e\u0433\u043e\u0435 \u0434\u0440\u0443\u0433\u043e\u0435. \u0412\u0441\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0438 \u0438\u043c\u0435\u0435\u0442 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044e \u043e\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f."}),(0,r.jsx)("p",{children:"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u043a\u0430\u043a \u0441 \u0440\u043e\u0437\u043d\u0438\u0447\u043d\u044b\u043c\u0438, \u0442\u0430\u043a \u0438 \u0441 \u043e\u043f\u0442\u043e\u0432\u044b\u043c\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c\u0438. \u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u0438 \u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u0438 \u043f\u043e \u0432\u044b\u0431\u043e\u0440\u0443 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430. \u0414\u043e\u0441\u0442\u0430\u0432\u043a\u0430 \u043f\u043e \u0410\u043b\u043c\u0430\u0442\u044b \u0438 \u043e\u0431\u043b\u0430\u0441\u0442\u0438."})]})]})]})}),(0,r.jsx)(o.A,{})]})}}}]);
//# sourceMappingURL=282.e536fb0a.chunk.js.map